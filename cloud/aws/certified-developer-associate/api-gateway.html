<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud/aws/certified-developer-associate/api-gateway" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">API Gateway | Learning Collection Knowledge Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://RobinTTY.github.io/LearningCollection/cloud/aws/certified-developer-associate/api-gateway"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Gateway | Learning Collection Knowledge Base"><meta data-rh="true" name="description" content="- AWS Lambda + API Gateway: No infrastructure to manage"><meta data-rh="true" property="og:description" content="- AWS Lambda + API Gateway: No infrastructure to manage"><link data-rh="true" rel="icon" href="/LearningCollection/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://RobinTTY.github.io/LearningCollection/cloud/aws/certified-developer-associate/api-gateway"><link data-rh="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/cloud/aws/certified-developer-associate/api-gateway" hreflang="en"><link data-rh="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/cloud/aws/certified-developer-associate/api-gateway" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"API Gateway","item":"https://RobinTTY.github.io/LearningCollection/cloud/aws/certified-developer-associate/api-gateway"}]}</script><link rel="stylesheet" href="/LearningCollection/assets/css/styles.619a2ab9.css">
<script src="/LearningCollection/assets/js/runtime~main.443627b6.js" defer="defer"></script>
<script src="/LearningCollection/assets/js/main.b25615a7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/LearningCollection/"><div class="navbar__logo"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Learning Collection</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/LearningCollection/">Docs</a><a class="navbar__item navbar__link" sidebarid="finance" href="/LearningCollection/finance/introduction">Finance</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/LearningCollection/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/general-concepts/callStack">General Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/LearningCollection/cloud/aws/certified-developer-associate/cloud-overview">Cloud</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloud-overview">AWS</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloud-overview">Certified Developer Associate</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloud-overview">Cloud Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/iam">Identity and Access Management (IAM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/ec2">Elastic Compute Cloud (EC2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/elb">Elastic Load Balancing (ELB)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/relational-databases">Relational Databases (RDS/Aurora)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/elasti-cache">ElastiCache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/route53">Route 53</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/vpc">Virtual Private Cloud (VPC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/s3">S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cli-sdk-iam-roles-policies">AWS CLI, SDK, IAM Roles &amp; Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloudfront">Cloudfront</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/ecs-ecr-fargate">ECS, ECR, Fargate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/elastic-beanstalk">Elastic Beanstalk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloudformation">CloudFormation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/integration-messaging">Integration &amp; Messaging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/monitoring-troubleshooting-audit">Monitoring, Troubleshooting &amp; Audit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/lambda">Lambda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/dynamodb">DynamoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/api-gateway">API Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/ci-cd">CI/CD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/sam">SAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cloud-development-kit">Cloud Development Kit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/cognito">Cognito</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/misc-serverless">Miscellaneous Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/advanced-identity">Advanced Identity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/security-encryption">Security &amp; Encryption</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/other-services">Other Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/cloud/aws/certified-developer-associate/exam-scoring">Exam Scoring</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/csharp/introduction">C#</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/web/html/doctype">Web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/databases/sql">Databases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/kubernetes/architecture">Kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/graphql/intro">GraphQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/tools/git/tags">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/LearningCollection/linux/commonlyUsedCommands">Linux</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/LearningCollection/interesting-topics">Interesting Topics</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/LearningCollection/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cloud</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AWS</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Certified Developer Associate</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">API Gateway</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Gateway</h1></header><ul>
<li>AWS Lambda + API Gateway: No infrastructure to manage</li>
<li>Support for the WebSocket Protocol</li>
<li>Handle API versioning (v1, v2…)</li>
<li>Handle different environments (dev, test, prod…)</li>
<li>Handle security (Authentication and Authorization)</li>
<li>Create API keys, handle request throttling</li>
<li>Swagger / Open API import to quickly define APIs</li>
<li>Transform and validate requests and responses</li>
<li>Generate SDK and API specifications</li>
<li>Cache API responses</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2>
<ul>
<li>Create a single interface for all the microservices in your company</li>
<li>Use API endpoints with various resources</li>
<li>Apply a simple domain name and SSL certificates</li>
<li>Can apply forwarding and transformation rules at the API Gateway level</li>
</ul>
<p><img decoding="async" loading="lazy" alt="api-gateway-architecture" src="/LearningCollection/assets/images/api-gateway-architecture-7e8cfcde6a1f00534aba959b8735efd2.png" width="988" height="853" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integrations-high-level">Integrations High Level<a href="#integrations-high-level" class="hash-link" aria-label="Direct link to Integrations High Level" title="Direct link to Integrations High Level">​</a></h2>
<ul>
<li>Lambda Function<!-- -->
<ul>
<li>Invoke Lambda function</li>
<li>Easy way to expose REST API backed by AWS Lambda</li>
</ul>
</li>
<li>HTTP<!-- -->
<ul>
<li>Expose HTTP endpoints in the backend</li>
<li>Example: internal HTTP API on premise, Application Load Balancer…</li>
<li>Why? Add rate limiting, caching, user authentications, API keys, etc…</li>
</ul>
</li>
<li>AWS Service<!-- -->
<ul>
<li>Expose any AWS API through the API Gateway</li>
<li>Example: start an AWS Step Function workflow, post a message to SQS</li>
<li>Why? Add authentication, deploy publicly, rate control…</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-serverless-api">Example: Serverless API<a href="#example-serverless-api" class="hash-link" aria-label="Direct link to Example: Serverless API" title="Direct link to Example: Serverless API">​</a></h3>
<p><img decoding="async" loading="lazy" alt="api-gateway-example" src="/LearningCollection/assets/images/api-gateway-example-69d4ccceb535c1753a19a75408f0b1cd.png" width="1540" height="301" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-kinesis-data-streams">Example: Kinesis Data Streams<a href="#example-kinesis-data-streams" class="hash-link" aria-label="Direct link to Example: Kinesis Data Streams" title="Direct link to Example: Kinesis Data Streams">​</a></h3>
<p><img decoding="async" loading="lazy" alt="kinesis-data-streams-api-gateway" src="/LearningCollection/assets/images/kinesis-data-streams-api-gateway-1c4307c871e300c94e36631969b0b0f0.png" width="1648" height="249" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint-types">Endpoint Types<a href="#endpoint-types" class="hash-link" aria-label="Direct link to Endpoint Types" title="Direct link to Endpoint Types">​</a></h2>
<ul>
<li>Edge-Optimized (default): For global clients<!-- -->
<ul>
<li>Requests are routed through the CloudFront Edge locations (improves latency)</li>
<li>The API Gateway still lives in only one region</li>
</ul>
</li>
<li>Regional:<!-- -->
<ul>
<li>For clients within the same region</li>
<li>Could manually combine with CloudFront (more control over the caching strategies and the distribution)</li>
</ul>
</li>
<li>Private:<!-- -->
<ul>
<li>Can only be accessed from your VPC using an interface VPC endpoint (ENI)</li>
<li>Use a resource policy to define access</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">​</a></h2>
<ul>
<li>User Authentication through<!-- -->
<ul>
<li>IAM Roles (useful for internal applications)</li>
<li>Cognito (identity for external users – example mobile users)</li>
<li>Custom Authorizer (your own logic)</li>
</ul>
</li>
<li>Custom Domain Name HTTPS security through integration with AWS Certificate Manager (ACM)<!-- -->
<ul>
<li>If using Edge-Optimized endpoint, then the certificate must be in us-east-1</li>
<li>If using Regional endpoint, the certificate must be in the API Gateway region</li>
<li>Must setup CNAME or A-alias record in Route 53</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iam-permissions">IAM Permissions<a href="#iam-permissions" class="hash-link" aria-label="Direct link to IAM Permissions" title="Direct link to IAM Permissions">​</a></h3>
<ul>
<li>Create an IAM policy authorization and attach to User / Role</li>
<li>Authentication = IAM | Authorization = IAM Policy</li>
<li>Good to provide access within AWS (EC2, Lambda, IAM users…)</li>
<li>Leverages “Sig v4” capability where IAM credential are in headers</li>
</ul>
<p><img decoding="async" loading="lazy" alt="security-iam-permissions" src="/LearningCollection/assets/images/security-iam-permissions-c584cda63ad0976f9d19ec1ff2e875af.png" width="1168" height="433" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-policies">Resource Policies<a href="#resource-policies" class="hash-link" aria-label="Direct link to Resource Policies" title="Direct link to Resource Policies">​</a></h3>
<ul>
<li>Resource policies (similar to Lambda Resource Policy)</li>
<li>Allow for Cross Account Access (combined with IAM Security)</li>
<li>Allow for a specific source IP address</li>
<li>Allow for a VPC Endpoint</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cognito-user-pools">Cognito User Pools<a href="#cognito-user-pools" class="hash-link" aria-label="Direct link to Cognito User Pools" title="Direct link to Cognito User Pools">​</a></h3>
<ul>
<li>Cognito fully manages user lifecycle, token expires automatically</li>
<li>API gateway verifies identity automatically from AWS Cognito</li>
<li>No custom implementation required</li>
<li>Authentication = Cognito User Pools | Authorization = API Gateway Methods</li>
</ul>
<p><img decoding="async" loading="lazy" alt="cognito-user-pools" src="/LearningCollection/assets/images/cognito-user-pools-db5392c12837195ca09e6f3adb7808c6.png" width="1174" height="489" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-authorizer-formerly-custom-authorizers">Lambda Authorizer (formerly Custom Authorizers)<a href="#lambda-authorizer-formerly-custom-authorizers" class="hash-link" aria-label="Direct link to Lambda Authorizer (formerly Custom Authorizers)" title="Direct link to Lambda Authorizer (formerly Custom Authorizers)">​</a></h3>
<ul>
<li>Token-based authorizer (bearer token) – ex JWT (JSON Web Token) or Oauth</li>
<li>Arequest parameter-based Lambda authorizer (headers, query string, stage var)</li>
<li>Lambda must return an IAM policy for the user, result policy is cached</li>
<li>Authentication = External | Authorization = Lambda function</li>
</ul>
<p><img decoding="async" loading="lazy" alt="lambda-authorizer" src="/LearningCollection/assets/images/lambda-authorizer-884c1a2183176f027dacdcbf1816809f.png" width="1588" height="525" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h3>
<ul>
<li>IAM:<!-- -->
<ul>
<li>Great for users / roles already within your AWS account, + resource policy for cross account</li>
<li>Handle authentication + authorization</li>
<li>Leverages Signature v4</li>
</ul>
</li>
<li>Custom Authorizer:<!-- -->
<ul>
<li>Great for 3rd party tokens</li>
<li>Very flexible in terms of what IAM policy is returned</li>
<li>Need to handle Authentication verification + Authorization in the Lambda function</li>
<li>Pay per Lambda invocation, results are cached</li>
</ul>
</li>
<li>Cognito User Pool:<!-- -->
<ul>
<li>You manage your own user pool (can be backed by Facebook, Google login etc…)</li>
<li>No need to write any custom code</li>
<li>Must implement authorization in the backend</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-stages">Deployment Stages<a href="#deployment-stages" class="hash-link" aria-label="Direct link to Deployment Stages" title="Direct link to Deployment Stages">​</a></h2>
<ul>
<li>Making changes in the API Gateway does not mean they’re effective</li>
<li>You need to make a “deployment” for them to be in effect</li>
<li>It’s a common source of confusion</li>
<li>Changes are deployed to “Stages” (as many as you want)</li>
<li>Use the naming you like for stages (dev, test, prod)</li>
<li>Each stage has its own configuration parameters</li>
<li>Stages can be rolled back as a history of deployments is kept</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stages-v1-and-v2-api-breaking-change">Stages v1 and v2 API breaking change<a href="#stages-v1-and-v2-api-breaking-change" class="hash-link" aria-label="Direct link to Stages v1 and v2 API breaking change" title="Direct link to Stages v1 and v2 API breaking change">​</a></h3>
<p><img decoding="async" loading="lazy" alt="gateway-v1-v2" src="/LearningCollection/assets/images/gateway-v1-v2-c2705a6f22a3db40f1b4376b3dc0ca00.png" width="1645" height="514" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stage-variables">Stage Variables<a href="#stage-variables" class="hash-link" aria-label="Direct link to Stage Variables" title="Direct link to Stage Variables">​</a></h3>
<ul>
<li>Stage variables are like environment variables for API Gateway</li>
<li>Use them to change often changing configuration values</li>
<li>They can be used in:<!-- -->
<ul>
<li>Lambda function ARN</li>
<li>HTTP Endpoint</li>
<li>Parameter mapping templates</li>
</ul>
</li>
<li>Use cases:<!-- -->
<ul>
<li>Configure HTTP endpoints your stages talk to (dev, test, prod…)</li>
<li>Pass configuration parameters to AWS Lambda through mapping templates</li>
</ul>
</li>
<li>Stage variables are passed to the ”context” object in AWS Lambda</li>
<li>Format: <code>${stageVariables.variableName}</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stage-variables--lambda-aliases">Stage Variables &amp; Lambda Aliases<a href="#stage-variables--lambda-aliases" class="hash-link" aria-label="Direct link to Stage Variables &amp; Lambda Aliases" title="Direct link to Stage Variables &amp; Lambda Aliases">​</a></h3>
<ul>
<li>We create a stage variable to indicate the corresponding Lambda alias</li>
<li>Our API gateway will automatically invoke the right Lambda function!</li>
</ul>
<p><img decoding="async" loading="lazy" alt="stage-variables" src="/LearningCollection/assets/images/stage-variables-85b1c16b9824f015f961e30c3f111de4.png" width="1794" height="624" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="canary-deployment">Canary Deployment<a href="#canary-deployment" class="hash-link" aria-label="Direct link to Canary Deployment" title="Direct link to Canary Deployment">​</a></h3>
<ul>
<li>Possibility to enable canary deployments for any stage (usually prod)</li>
<li>Choose the % of traffic the canary channel receives</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-canary" src="/LearningCollection/assets/images/gateway-canary-ae53783a6a78f3f380b164c549539b51.png" width="1204" height="343" class="img_ev3q"></p>
<ul>
<li>Metrics &amp; Logs are separate (for better monitoring)</li>
<li>Possibility to override stage variables for canary</li>
<li>This is blue / green deployment with AWS Lambda &amp; API Gateway</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-types">Integration Types<a href="#integration-types" class="hash-link" aria-label="Direct link to Integration Types" title="Direct link to Integration Types">​</a></h2>
<ul>
<li>Integration Type MOCK<!-- -->
<ul>
<li>API Gateway returns a response without sending the request to the backend</li>
</ul>
</li>
<li>Integration Type HTTP / AWS (Lambda &amp; AWS Services)<!-- -->
<ul>
<li>you must configure both the integration request and integration response</li>
<li>Setup data mapping using mapping templates for the request &amp; response</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-integration-types" src="/LearningCollection/assets/images/gateway-integration-types-8be428d5b3ff6dfc819842f6d734d63f.png" width="1224" height="279" class="img_ev3q"></p>
<ul>
<li>Integration Type AWS_PROXY (Lambda Proxy):<!-- -->
<ul>
<li>incoming request from the client is the input to Lambda</li>
<li>The function is responsible for the logic of request / response</li>
<li>No mapping template, headers, query string parameters… are passed as arguments</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-lambda-proxy" src="/LearningCollection/assets/images/gateway-lambda-proxy-00f2a8489752d56daa94f894b0a9b791.png" width="1629" height="442" class="img_ev3q"></p>
<ul>
<li>Integration Type HTTP_PROXY<!-- -->
<ul>
<li>No mapping template</li>
<li>The HTTP request is passed to the backend</li>
<li>The HTTP response from the backend is forwarded by API Gateway</li>
<li>Possibility to add HTTP Headers if need be (ex: API key)</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-http-proxy" src="/LearningCollection/assets/images/gateway-http-proxy-861d296b22fb2a8e8327824f597b0f72.png" width="1435" height="277" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapping-templates-aws--http-integration">Mapping Templates (AWS &amp; HTTP Integration)<a href="#mapping-templates-aws--http-integration" class="hash-link" aria-label="Direct link to Mapping Templates (AWS &amp; HTTP Integration)" title="Direct link to Mapping Templates (AWS &amp; HTTP Integration)">​</a></h3>
<ul>
<li>Mapping templates can be used to modify request / responses</li>
<li>Rename / Modify query string parameters</li>
<li>Modify body content</li>
<li>Add headers</li>
<li>Uses Velocity Template Language (VTL): for loop, if etc…</li>
<li>Filter output results (remove unnecessary data)</li>
<li>Content-Type can be set to application/json or application/xml</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mapping-example-json-to-xml-with-soap">Mapping Example: JSON to XML with SOAP<a href="#mapping-example-json-to-xml-with-soap" class="hash-link" aria-label="Direct link to Mapping Example: JSON to XML with SOAP" title="Direct link to Mapping Example: JSON to XML with SOAP">​</a></h4>
<ul>
<li>
<p>SOAP API are XML based, whereas REST API are JSON based</p>
</li>
<li>
<p>In this case, API Gateway should:</p>
<ul>
<li>Extract data from the request: either path, payload or header</li>
<li>Build SOAP message based on request data (mapping template)</li>
<li>Call SOAP service and receive XML response</li>
<li>Transform XML response to desired format (like JSON), and respond to the user</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-mapping" src="/LearningCollection/assets/images/gateway-mapping-955efd25c7f68b4387cb242c7e7be720.png" width="1408" height="300" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mapping-example-query-string-parameters">Mapping Example: Query String parameters<a href="#mapping-example-query-string-parameters" class="hash-link" aria-label="Direct link to Mapping Example: Query String parameters" title="Direct link to Mapping Example: Query String parameters">​</a></h4>
<p><img decoding="async" loading="lazy" alt="gateway-mapping-query" src="/LearningCollection/assets/images/gateway-mapping-query-54bd134dbe694299ba7c9c0ed99f9224.png" width="1378" height="838" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="open-api-spec">Open API spec<a href="#open-api-spec" class="hash-link" aria-label="Direct link to Open API spec" title="Direct link to Open API spec">​</a></h2>
<ul>
<li>Common way of defining REST APIs, using API definition as code</li>
<li>Import existing OpenAPI 3.0 spec to API Gateway<!-- -->
<ul>
<li>Method</li>
<li>Method Request</li>
<li>Integration Request</li>
<li>Method Response</li>
<li>+ AWS extensions for API gateway and setup every single option</li>
</ul>
</li>
<li>Can export current API as OpenAPI spec</li>
<li>OpenAPI specs can be written in YAML or JSON</li>
<li>Using OpenAPI we can generate SDK for our applications</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="request-validation">Request Validation<a href="#request-validation" class="hash-link" aria-label="Direct link to Request Validation" title="Direct link to Request Validation">​</a></h2>
<ul>
<li>You can configure API Gateway to perform basic validation of an API request before proceeding with the integration request</li>
<li>When the validation fails, API Gateway immediately fails the request<!-- -->
<ul>
<li>Returns a 400-error response to the caller</li>
</ul>
</li>
<li>This reduces unnecessary calls to the backend</li>
<li>Checks:<!-- -->
<ul>
<li>The required request parameters in the URI, query string, and headers of an incoming request are included and non-blank</li>
<li>The applicable request payload adheres to the configured JSON Schema request model of the method</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openapi">OpenAPI<a href="#openapi" class="hash-link" aria-label="Direct link to OpenAPI" title="Direct link to OpenAPI">​</a></h3>
<ul>
<li>Setup request validation by importing OpenAPI definitions file</li>
</ul>
<p><img decoding="async" loading="lazy" alt="openapi-request-validation" src="/LearningCollection/assets/images/openapi-request-validation-c5e82536c94ebf033e043ded629016fe.png" width="1716" height="676" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="caching-api-responses">Caching API responses<a href="#caching-api-responses" class="hash-link" aria-label="Direct link to Caching API responses" title="Direct link to Caching API responses">​</a></h2>
<ul>
<li>Caching reduces the number of calls made to the backend</li>
<li>Default TTL (time to live) is 300 seconds (min: 0s, max: 3600s)</li>
<li>Caches are defined per stage</li>
<li>Possible to override cache settings per method</li>
<li>Cache encryption option</li>
<li>Cache capacity between 0.5GB to 237GB</li>
<li>Cache is expensive, makes sense in production, may not make sense in dev / test</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-caching" src="/LearningCollection/assets/images/gateway-caching-c5d4ca5796851e569e4e739cab608504.png" width="661" height="813" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-invalidation">Cache Invalidation<a href="#cache-invalidation" class="hash-link" aria-label="Direct link to Cache Invalidation" title="Direct link to Cache Invalidation">​</a></h3>
<ul>
<li>Able to flush the entire cache (invalidate it) immediately</li>
<li>Clients can invalidate the cache with header: CacheControl: max-age=0 (with proper IAM authorization)</li>
<li>If you don&#x27;t impose an InvalidateCache policy (or choose the Require authorization check box in the console), any client can invalidate the API cache</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-plans--api-keys">Usage Plans &amp; API Keys<a href="#usage-plans--api-keys" class="hash-link" aria-label="Direct link to Usage Plans &amp; API Keys" title="Direct link to Usage Plans &amp; API Keys">​</a></h2>
<ul>
<li>If you want to make an API available as an offering ($) to your customers</li>
<li>Usage Plan:<!-- -->
<ul>
<li>who can access one or more deployed API stages and methods</li>
<li>how much and how fast they can access them</li>
<li>uses API keys to identify API clients and meter access</li>
<li>configure throttling limits and quota limits that are enforced on individual client</li>
</ul>
</li>
<li>API Keys:<!-- -->
<ul>
<li>alphanumeric string values to distribute to your customers</li>
<li>Ex: WBjHxNtoAb4WPKBC7cGm64CBibIb24b4jt8jJHo9</li>
<li>Can use with usage plans to control access</li>
<li>Throttling limits are applied to the API keys</li>
<li>Quotas limits is the overall number of maximum requests</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="correct-order-for-api-keys">Correct Order for API keys<a href="#correct-order-for-api-keys" class="hash-link" aria-label="Direct link to Correct Order for API keys" title="Direct link to Correct Order for API keys">​</a></h3>
<p>To configure a usage plan:</p>
<ol>
<li>Create one or more APIs, configure the methods to require an API key, and deploy the APIs to stages.</li>
<li>Generate or import API keys to distribute to application developers (your customers) who will be using your API.</li>
<li>Create the usage plan with the desired throttle and quota limits.</li>
<li>Associate API stages and API keys with the usage plan.</li>
</ol>
<p>Callers of the API must supply an assigned API key in the x-api-key header in requests to the API.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging--tracing">Logging &amp; Tracing<a href="#logging--tracing" class="hash-link" aria-label="Direct link to Logging &amp; Tracing" title="Direct link to Logging &amp; Tracing">​</a></h2>
<ul>
<li>CloudWatch Logs<!-- -->
<ul>
<li>Log contains information about request/response body</li>
<li>Enable CloudWatch logging at the Stage level (with Log Level - ERROR, DEBUG, INFO)</li>
<li>Can override settings on a per API basis</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-logging" src="/LearningCollection/assets/images/gateway-logging-1830f45c9afa74de683258e7bdb41839.png" width="948" height="358" class="img_ev3q"></p>
<ul>
<li>X-Ray<!-- -->
<ul>
<li>Enable tracing to get extra information about requests in API Gateway</li>
<li>X-Ray API Gateway + AWS Lambda gives you the full picture</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudwatch-metrics">CloudWatch Metrics<a href="#cloudwatch-metrics" class="hash-link" aria-label="Direct link to CloudWatch Metrics" title="Direct link to CloudWatch Metrics">​</a></h3>
<ul>
<li>Metrics are by stage, Possibility to enable detailed metrics</li>
<li>CacheHitCount &amp; CacheMissCount: efficiency of the cache</li>
<li>Count: The total number API requests in a given period.</li>
<li>IntegrationLatency: The time between when API Gateway relays a request to the backend and when it receives a response from the backend.</li>
<li>Latency: The time between when API Gateway receives a request from a client and when it returns a response to the client. The latency includes the integration latency and other API Gateway overhead.</li>
<li>4XXError (client-side) &amp; 5XXError (server-side)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gateway-throttling">Gateway Throttling<a href="#gateway-throttling" class="hash-link" aria-label="Direct link to Gateway Throttling" title="Direct link to Gateway Throttling">​</a></h2>
<ul>
<li>Account Limit<!-- -->
<ul>
<li>API Gateway throttles requests at10000 rps across all API</li>
<li>Soft limit that can be increased upon request</li>
</ul>
</li>
<li>In case of throttling =&gt; 429 Too Many Requests (retriable error)</li>
<li>Can set Stage limit &amp; Method limits to improve performance</li>
<li>Or you can define Usage Plans to throttle per customer</li>
<li>Just like Lambda Concurrency, one API that is overloaded, if not limited, can cause the other APIs to be throttled</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a href="#errors" class="hash-link" aria-label="Direct link to Errors" title="Direct link to Errors">​</a></h2>
<ul>
<li>4xx means Client errors<!-- -->
<ul>
<li>400: Bad Request</li>
<li>403: Access Denied, WAF filtered</li>
<li>429: Quota exceeded, Throttle</li>
</ul>
</li>
<li>5xx means Server errors<!-- -->
<ul>
<li>502: Bad Gateway Exception, usually for an incompatible output returned from a Lambda proxy integration backend and occasionally for out-of-order invocations due to heavy loads.</li>
<li>503: Service Unavailable Exception</li>
<li>504: Integration Failure – ex Endpoint Request Timed-out Exception API Gateway requests time out after 29 second maximum</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cors">CORS<a href="#cors" class="hash-link" aria-label="Direct link to CORS" title="Direct link to CORS">​</a></h2>
<ul>
<li>CORS must be enabled when you receive API calls from another domain</li>
<li>The OPTIONS pre-flight request must contain the following headers:<!-- -->
<ul>
<li>Access-Control-Allow-Methods</li>
<li>Access-Control-Allow-Headers</li>
<li>Access-Control-Allow-Origin</li>
</ul>
</li>
<li>CORS can be enabled through the console</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-cors" src="/LearningCollection/assets/images/gateway-cors-34bb9328534a6bb55d735769f5bb814b.png" width="1846" height="799" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-api-vs-rest-api">HTTP API vs REST API<a href="#http-api-vs-rest-api" class="hash-link" aria-label="Direct link to HTTP API vs REST API" title="Direct link to HTTP API vs REST API">​</a></h2>
<ul>
<li>HTTP APIs<!-- -->
<ul>
<li><strong>very cheap</strong></li>
<li>low-latency, cost-effective AWS Lambda proxy, HTTP proxy APIs and private integration (no data mapping)</li>
<li>support OIDC and OAuth 2.0 authorization, and built-in support for CORS</li>
<li>No usage plans and API keys</li>
</ul>
</li>
<li>REST APIs<!-- -->
<ul>
<li>All features (except Native OpenID Connect / OAuth 2.0)</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-http-vs-rest" src="/LearningCollection/assets/images/gateway-http-vs-rest-41e45aa91349604c10ee0787b253b31f.png" width="805" height="400" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="websocket-api">WebSocket API<a href="#websocket-api" class="hash-link" aria-label="Direct link to WebSocket API" title="Direct link to WebSocket API">​</a></h2>
<ul>
<li>What’s WebSocket?<!-- -->
<ul>
<li>Two-way interactive communication between a user’s browser and a server</li>
<li>Server can push information to the client</li>
<li>This enables stateful application use cases</li>
</ul>
</li>
<li>WebSocket APIs are often used in realtime applications such as chat applications, collaboration platforms, multiplayer games, and financial trading platforms</li>
<li>Works with AWS Services (Lambda, DynamoDB) or HTTP endpoints</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-websocket" src="/LearningCollection/assets/images/gateway-websocket-a69ce74b976dba12d828ea46beddfb16.png" width="796" height="853" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-the-api">Connecting to the API<a href="#connecting-to-the-api" class="hash-link" aria-label="Direct link to Connecting to the API" title="Direct link to Connecting to the API">​</a></h3>
<p><img decoding="async" loading="lazy" alt="gateway-websocket-connecting" src="/LearningCollection/assets/images/gateway-websocket-connecting-999b2c736d803ea77675acfc3b6aee69.png" width="1675" height="453" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-to-server-messaging">Client to Server Messaging<a href="#client-to-server-messaging" class="hash-link" aria-label="Direct link to Client to Server Messaging" title="Direct link to Client to Server Messaging">​</a></h3>
<p>The <code>ConnectionID</code> is re-used:</p>
<p><img decoding="async" loading="lazy" alt="websocket-gateway-client-to-server" src="/LearningCollection/assets/images/websocket-gateway-client-to-server-bf5811f15d12b00cc681f61c10e74075.png" width="1714" height="454" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-to-client-messaging">Server to Client Messaging<a href="#server-to-client-messaging" class="hash-link" aria-label="Direct link to Server to Client Messaging" title="Direct link to Server to Client Messaging">​</a></h3>
<p><img decoding="async" loading="lazy" alt="gateway-server-to-client" src="/LearningCollection/assets/images/gateway-server-to-client-ffc86b32deeae3fd50474e81b0371eec.png" width="1689" height="748" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection-url-operations">Connection URL Operations<a href="#connection-url-operations" class="hash-link" aria-label="Direct link to Connection URL Operations" title="Direct link to Connection URL Operations">​</a></h3>
<p><img decoding="async" loading="lazy" alt="gateway-websocket-url-operations" src="/LearningCollection/assets/images/gateway-websocket-url-operations-b44f02c9587b6a2410d7caee0ea1af50.png" width="1506" height="517" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="routing">Routing<a href="#routing" class="hash-link" aria-label="Direct link to Routing" title="Direct link to Routing">​</a></h3>
<ul>
<li>Incoming JSON messages are routed to different backend</li>
<li>If no routes =&gt; sent to $default</li>
<li>You request a route selection expression to select the field on JSON to route from</li>
<li>Sample expression: <code>$request.body.action</code></li>
<li>The result is evaluated against the route keys available in your API Gateway</li>
<li>The route is then connected to the backend you’ve setup through API Gateway</li>
</ul>
<p><img decoding="async" loading="lazy" alt="gateway-websocket-routing" src="/LearningCollection/assets/images/gateway-websocket-routing-8f75d28e68f2799646bc186d5f19f0ff.png" width="655" height="835" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/cloud/aws/certified-developer-associate/api-gateway.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/LearningCollection/cloud/aws/certified-developer-associate/dynamodb"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DynamoDB</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/LearningCollection/cloud/aws/certified-developer-associate/ci-cd"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CI/CD</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#integrations-high-level" class="table-of-contents__link toc-highlight">Integrations High Level</a><ul><li><a href="#example-serverless-api" class="table-of-contents__link toc-highlight">Example: Serverless API</a></li><li><a href="#example-kinesis-data-streams" class="table-of-contents__link toc-highlight">Example: Kinesis Data Streams</a></li></ul></li><li><a href="#endpoint-types" class="table-of-contents__link toc-highlight">Endpoint Types</a></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a><ul><li><a href="#iam-permissions" class="table-of-contents__link toc-highlight">IAM Permissions</a></li><li><a href="#resource-policies" class="table-of-contents__link toc-highlight">Resource Policies</a></li><li><a href="#cognito-user-pools" class="table-of-contents__link toc-highlight">Cognito User Pools</a></li><li><a href="#lambda-authorizer-formerly-custom-authorizers" class="table-of-contents__link toc-highlight">Lambda Authorizer (formerly Custom Authorizers)</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></li><li><a href="#deployment-stages" class="table-of-contents__link toc-highlight">Deployment Stages</a><ul><li><a href="#stages-v1-and-v2-api-breaking-change" class="table-of-contents__link toc-highlight">Stages v1 and v2 API breaking change</a></li><li><a href="#stage-variables" class="table-of-contents__link toc-highlight">Stage Variables</a></li><li><a href="#stage-variables--lambda-aliases" class="table-of-contents__link toc-highlight">Stage Variables &amp; Lambda Aliases</a></li><li><a href="#canary-deployment" class="table-of-contents__link toc-highlight">Canary Deployment</a></li></ul></li><li><a href="#integration-types" class="table-of-contents__link toc-highlight">Integration Types</a><ul><li><a href="#mapping-templates-aws--http-integration" class="table-of-contents__link toc-highlight">Mapping Templates (AWS &amp; HTTP Integration)</a></li></ul></li><li><a href="#open-api-spec" class="table-of-contents__link toc-highlight">Open API spec</a></li><li><a href="#request-validation" class="table-of-contents__link toc-highlight">Request Validation</a><ul><li><a href="#openapi" class="table-of-contents__link toc-highlight">OpenAPI</a></li></ul></li><li><a href="#caching-api-responses" class="table-of-contents__link toc-highlight">Caching API responses</a><ul><li><a href="#cache-invalidation" class="table-of-contents__link toc-highlight">Cache Invalidation</a></li></ul></li><li><a href="#usage-plans--api-keys" class="table-of-contents__link toc-highlight">Usage Plans &amp; API Keys</a><ul><li><a href="#correct-order-for-api-keys" class="table-of-contents__link toc-highlight">Correct Order for API keys</a></li></ul></li><li><a href="#logging--tracing" class="table-of-contents__link toc-highlight">Logging &amp; Tracing</a><ul><li><a href="#cloudwatch-metrics" class="table-of-contents__link toc-highlight">CloudWatch Metrics</a></li></ul></li><li><a href="#gateway-throttling" class="table-of-contents__link toc-highlight">Gateway Throttling</a></li><li><a href="#errors" class="table-of-contents__link toc-highlight">Errors</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">CORS</a></li><li><a href="#http-api-vs-rest-api" class="table-of-contents__link toc-highlight">HTTP API vs REST API</a></li><li><a href="#websocket-api" class="table-of-contents__link toc-highlight">WebSocket API</a><ul><li><a href="#connecting-to-the-api" class="table-of-contents__link toc-highlight">Connecting to the API</a></li><li><a href="#client-to-server-messaging" class="table-of-contents__link toc-highlight">Client to Server Messaging</a></li><li><a href="#server-to-client-messaging" class="table-of-contents__link toc-highlight">Server to Client Messaging</a></li><li><a href="#connection-url-operations" class="table-of-contents__link toc-highlight">Connection URL Operations</a></li><li><a href="#routing" class="table-of-contents__link toc-highlight">Routing</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">My other sites</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.robintty.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Socials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/RobinTTY" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/robin-m%C3%BCller-574782170/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>