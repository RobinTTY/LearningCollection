<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">ASP.NET | Learning Collection Knowledge Base</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://RobinTTY.github.io/LearningCollection/C-Sharp/aspnet"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ASP.NET | Learning Collection Knowledge Base"><meta data-react-helmet="true" name="description" content="ASP.NET Core supports building RESTful services, also known as web APIs, using C#."><meta data-react-helmet="true" property="og:description" content="ASP.NET Core supports building RESTful services, also known as web APIs, using C#."><link data-react-helmet="true" rel="icon" href="/LearningCollection/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://RobinTTY.github.io/LearningCollection/C-Sharp/aspnet"><link data-react-helmet="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/C-Sharp/aspnet" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/C-Sharp/aspnet" hreflang="x-default"><link rel="stylesheet" href="/LearningCollection/assets/css/styles.dcc5ff64.css">
<link rel="preload" href="/LearningCollection/assets/js/runtime~main.4395e737.js" as="script">
<link rel="preload" href="/LearningCollection/assets/js/main.f876d8cb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/LearningCollection/"><div class="navbar__logo"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Learning Collection</b></a><a class="navbar__item navbar__link navbar__link--active" href="/LearningCollection/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/LearningCollection/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/General Concepts/callStack">General Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/LearningCollection/C-Sharp/DotNet Versions/dotnet6">C-Sharp</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/LearningCollection/C-Sharp/DotNet Versions/dotnet6">.NET Versions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/LearningCollection/C-Sharp/aspnet">ASP.NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/assemblyClass">Assembly Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/asyncProgramming">Asynchronous Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/closures">Closures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/netFramework">.NET Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/generics">Generics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/ienumerable">IEnumerable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/manResetEvent">ManualResetEvent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/memVsFileStream">Memory Stream vs FileStream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/netstandardVsNetcoreVsUwp">.Net Core vs .Net Standard vs UWP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/nullCoalescingOperator">Null-coalescing operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/nullConditionalOperator">Null-conditional operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/propsVsPublicVars">Properties vs Public variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/privateProtectedVsProtectedInternal">Private protected vs protected internal access modifier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/serialization">Serialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/taskFactoryStartNew">Task.Factory.StartNew()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/threadVsTask">Thread vs Task</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/unmanagedConstraint">Unmanaged constraint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/unmanagedVsManagedResources">Unmanaged vs managed resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/LearningCollection/C-Sharp/volatileKeyword">Volatile Keyword</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Web/JavaScript">Web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Databases/MongoDB/authentication">Databases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Tools/ansible">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Linux/commonlyUsedCommands">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Security/dataObfuscation">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/LearningCollection/Interesting Topics/interestingTopics">Interesting Topics</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ASP.NET</h1></header><p>ASP.NET Core supports building RESTful services, also known as web APIs, using C#.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="project-structure">Project structure<a class="hash-link" href="#project-structure" title="Direct link to heading">â€‹</a></h2><p>Controllers/: Contains classes with public methods exposed as HTTP endpoints.</p><p>Program.cs: Contains a Main method - the app&#x27;s managed entry point.</p><p>RetailApi.csproj: Contains configuration metadata for the project.</p><p>Startup.cs: Configures services and the app&#x27;s HTTP request pipeline.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="curl">curl<a class="hash-link" href="#curl" title="Direct link to heading">â€‹</a></h2><p>curl is a cross-platform command-line tool for testing web APIs and other HTTP endpoints.</p><p>Example command: curl -k -s <a href="https://localhost:5001/api/values" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/values</a> | python -m json.tool</p><p>The preceding command uses:</p><ul><li>HTTPS to send a request to the web API running on port 5001 of localhost. The ValuesController class&#x27; parameterless Get action method handles the request.</li><li>The -k option to indicate that curl should allow insecure server connections when using HTTPS. The .NET Core SDK includes an HTTPS development certificate for testing. By default, curl rejects secure connections using this certificate.</li><li>The -s option to suppress all output except the JSON payload. The JSON is sent to a Python json.tool module for improved display.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="models">Models<a class="hash-link" href="#models" title="Direct link to heading">â€‹</a></h2><p>A type of class called a Model is needed to represent a certain item. The Model must include the properties of an item and is used to pass data in the web API. The Model is also used to persist the item in a data store. The directory name &quot;Models&quot; is a convention to place all Models in. The directory name comes from the Model-View-Controller architecture used by the web API.</p><p>[Required]<!-- --> signals that a property is required and ensures that a value is provided when creating an item.</p><p>[Range(minimum: 0.01, maximum: (double) decimal.MaxValue)]<!-- --> enforces minimum and maximum values.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="controller">Controller<a class="hash-link" href="#controller" title="Direct link to heading">â€‹</a></h2><p>A Controller is a public class with one or more public methods known as actions. By convention, a Controller class is placed in the project root&#x27;s Controllers directory. The actions are exposed as callable HTTP endpoints inside the web API controller. The directory name Controllers is a convention. The directory name comes from the Model-View-Controller architecture used by the web API. By convention, controller class names are suffixed with Controller.</p><p>[Route(&quot;api/<!-- -->[controller]<!-- -->&quot;)] defines routing pattern (The <!-- -->[controller]<!-- --> token is replaced by the controller&#x27;s name (case-insensitive, without the Controller suffix), so requests to https://localhost:5001/api/products are handled by this controller.)</p><p>[ApiController]<!-- --> adds behaviors that make it easier to build web APIs. Some behaviors include <a href="https://docs.microsoft.com/aspnet/core/web-api/#binding-source-parameter-inference" target="_blank" rel="noopener noreferrer">parameter source inference</a>, <a href="https://docs.microsoft.com/aspnet/core/web-api/#attribute-routing-requirement" target="_blank" rel="noopener noreferrer">attribute routing as a requirement</a>, and <a href="https://docs.microsoft.com/aspnet/core/web-api/#automatic-http-400-responses" target="_blank" rel="noopener noreferrer">model validation error handling enhancements</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="crud-operations">CRUD operations<a class="hash-link" href="#crud-operations" title="Direct link to heading">â€‹</a></h2><p>The following table depicts the relationship between HTTP action verbs, CRUD operations, and ASP.NET Core attributes. For example, an HTTP PUT action verb is most often used to support an update operation. Such an action is annotated with the <!-- -->[HttpPut]<!-- --> attribute.</p><table><thead><tr><th align="center">HTTP Action Verb</th><th align="center">CRUD Operation</th><th align="center">ASP.NET Core Attribute</th></tr></thead><tbody><tr><td align="center">POST</td><td align="center">Create</td><td align="center">[HttpPost]</td></tr><tr><td align="center">GET</td><td align="center">Read</td><td align="center">[HttpGet]</td></tr><tr><td align="center">PUT</td><td align="center">Update</td><td align="center">[HttpPut]</td></tr><tr><td align="center">DELETE</td><td align="center">Delete</td><td align="center">[HttpDelete]</td></tr></tbody></table><p>In addition to the action verbs in the preceding table, a web API in ASP.NET Core supports HEAD, OPTIONS, and PATCH.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="example-on-how-to-use-crud-operations">Example on how to use CRUD operations<a class="hash-link" href="#example-on-how-to-use-crud-operations" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="retrieve-a-product">Retrieve a product<a class="hash-link" href="#retrieve-a-product" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-csharp theme-code-block"><div class="codeBlockContent_csEI csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[HttpGet(&quot;{id}&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;ActionResult&lt;Product&gt;&gt; GetById(long id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var product = await _context.Products.FindAsync(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (product == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return NotFound();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return product;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The preceding action:</p><ul><li>Responds only to the HTTP GET verb, as denoted by the <!-- -->[HttpGet]<!-- --> attribute.</li><li>Requires that the id value is included in the URL segment after api/products/. Remember, the /api/products pattern was defined by the controller-level <!-- -->[Route]<!-- --> attribute.</li><li>Queries the database for a product matching the provided id parameter.</li></ul><p>Each ActionResult used in the preceding action is mapped to the corresponding HTTP status code in the following table.</p><table><thead><tr><th align="center">ASP.NET Core Action Result</th><th align="center">HTTP status code</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">Ok is implied</td><td align="center">200</td><td align="center">A product matching the provided id parameter exists in the database. The product is included in the response body in the media type as defined in the Accept HTTP request header (JSON by default).</td></tr><tr><td align="center">NotFound</td><td align="center">404</td><td align="center">A product matching the provided id parameter doesn&#x27;t exist in the database.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="add-a-product">Add a product<a class="hash-link" href="#add-a-product" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-cs theme-code-block"><div class="codeBlockContent_csEI cs"><pre tabindex="0" class="prism-code language-cs codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[HttpPost]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;ActionResult&lt;Product&gt;&gt; Create(Product product)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _context.Products.Add(product);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await _context.SaveChangesAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return CreatedAtAction(nameof(GetById), new { id = product.Id }, product);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The preceding action:</p><ul><li>Responds only to the HTTP POST verb, as denoted by the <!-- -->[HttpPost]<!-- --> attribute.</li><li>Inserts the request body&#x27;s Product object into the database.</li></ul><p>Because the controller is annotated with the <!-- -->[ApiController]<!-- --> attribute, it&#x27;s implied that the product parameter will be found in the request body.</p><p>The first parameter in the CreatedAtAction method call represents an action name. The nameof keyword is used to avoid hard-coding the action name. CreatedAtAction uses the action name to generate a Location HTTP response header with a URL to the newly created product.</p><p>Each ActionResult used in the preceding action is mapped to the corresponding HTTP status code in the following table:</p><table><thead><tr><th align="center">ASP.NET Core Action Result</th><th align="center">HTTP status code</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">CreatedAtAction</td><td align="center">201</td><td align="center">The product was added to the database.</td></tr><tr><td align="center">The product is included in the response body in the media type as defined in the Accept HTTP request header (JSON by default).</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">BadRequest is implied</td><td align="center">400</td><td align="center">The request body&#x27;s Product object is invalid.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="modify-a-product">Modify a product<a class="hash-link" href="#modify-a-product" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-cs theme-code-block"><div class="codeBlockContent_csEI cs"><pre tabindex="0" class="prism-code language-cs codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[HttpPut(&quot;{id}&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;IActionResult&gt; Update(long id, Product product)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (id != product.Id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return BadRequest();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _context.Entry(product).State = EntityState.Modified;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await _context.SaveChangesAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return NoContent();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The preceding action:</p><ul><li>Responds only to the HTTP PUT verb, as denoted by the <!-- -->[HttpPut]<!-- --> attribute.</li><li>Requires that the id value is included in the URL segment after api/products/.</li><li>Updates the Name and Price properties of the product.</li></ul><p>Because the controller is annotated with the <!-- -->[ApiController]<!-- --> attribute, it&#x27;s implied that the product parameter will be found in the request body.</p><p>Each ActionResult used in the preceding action is mapped to the corresponding HTTP status code in the following table:</p><table><thead><tr><th align="center">ASP.NET Core Action Result</th><th align="center">HTTP status code</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">NoContent</td><td align="center">204</td><td align="center">The product was updated in the database.</td></tr><tr><td align="center">BadRequest</td><td align="center">400</td><td align="center">The request body&#x27;s Id value doesn&#x27;t match the route&#x27;s id value.</td></tr><tr><td align="center">BadRequest is implied</td><td align="center">400</td><td align="center">The request body&#x27;s Product object is invalid.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="removing-a-product">Removing a product<a class="hash-link" href="#removing-a-product" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-cs theme-code-block"><div class="codeBlockContent_csEI cs"><pre tabindex="0" class="prism-code language-cs codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[HttpDelete(&quot;{id}&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;IActionResult&gt; Delete(long id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var product = await _context.Products.FindAsync(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (product == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return NotFound();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _context.Products.Remove(product);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await _context.SaveChangesAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return NoContent();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The preceding action:</p><ul><li>Responds only to the HTTP DELETE verb, as denoted by the <!-- -->[HttpDelete]<!-- --> attribute.</li><li>Requires that id is included in the URL path.</li><li>Queries the database for a product matching the provided id parameter.</li></ul><p>Each ActionResult used in the preceding action is mapped to the corresponding HTTP status code in the following table:</p><table><thead><tr><th align="center">ASP.NET Core Action Result</th><th align="center">HTTP status code</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">NoContent</td><td align="center">204</td><td align="center">The product was deleted from the database.</td></tr><tr><td align="center">NotFound</td><td align="center">404</td><td align="center">A product matching the provided id parameter doesn&#x27;t exist in the database.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="testing-api-with-curl">Testing API with curl<a class="hash-link" href="#testing-api-with-curl" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="invalid-http-post-request">invalid HTTP POST request<a class="hash-link" href="#invalid-http-post-request" title="Direct link to heading">â€‹</a></h3><p>curl -v -k \
-H &quot;Content-Type: application/json&quot; \
-d &quot;{\&quot;name\&quot;:\&quot;Plush Squirrel\&quot;,\&quot;price\&quot;:0.00}&quot; \
<a href="https://localhost:5001/api/Products" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/Products</a></p><p>In the preceding command:</p><ul><li>-v enables verbose output.</li><li>-d implies an HTTP POST operation and defines the request body.</li><li>-H indicates that the request body is in JSON format. The header&#x27;s value overrides the default content type of application/x-www-form-urlencoded</li></ul><p>The command returns an HTTP 400 status code because the controller&#x27;s <!-- -->[ApiController]<!-- --> attribute triggers Model validation on the request body. MVC&#x27;s Model binder attempts to convert the request&#x27;s -d JSON to a Product object. Model validation fails because the request&#x27;s Price value is less than the minimum value of 0.01.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="valid-http-post-request">valid HTTP POST request<a class="hash-link" href="#valid-http-post-request" title="Direct link to heading">â€‹</a></h3><p>curl -v -k \
-H &quot;Content-Type: application/json&quot; \
-d &quot;{\&quot;name\&quot;:\&quot;Plush Squirrel\&quot;,\&quot;price\&quot;:12.99}&quot; \
<a href="https://localhost:5001/api/Products" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/Products</a></p><p>Successful creation of the product results in:</p><ul><li>An HTTP 201 status code</li><li>A Location response header with a URL to retrieve the newly created product</li><li>A JSON representation of the newly created product</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="valid-http-get-request">valid HTTP Get request<a class="hash-link" href="#valid-http-get-request" title="Direct link to heading">â€‹</a></h3><p>curl -k -s <a href="https://localhost:5001/api/Products/3" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/Products/3</a> | python -m json.tool</p><p>The following output is displayed, proving that the new product was persisted to the in-memory database:</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Plush Squirrel&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12.99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="valid-http-put-request">valid HTTP PUT request<a class="hash-link" href="#valid-http-put-request" title="Direct link to heading">â€‹</a></h3><p>curl -k -X PUT \
-H &quot;Content-Type: application/json&quot; \
-d &quot;{\&quot;id\&quot;:2,\&quot;name\&quot;:\&quot;Knotted Rope\&quot;,\&quot;price\&quot;:14.99}&quot; \
<a href="https://localhost:5001/api/Products/2" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/Products/2</a></p><p>The preceding command changes the price from 12.99 to 14.99. No output if successful.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="valid-http-delete-request">valid HTTP DELETE request<a class="hash-link" href="#valid-http-delete-request" title="Direct link to heading">â€‹</a></h3><p>curl -v -k -X DELETE <a href="https://localhost:5001/api/Products/1" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/Products/1</a></p><p>The preceding command deletes the product from the in-memory database.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="valid-http-get-request-1">valid HTTP GET request<a class="hash-link" href="#valid-http-get-request-1" title="Direct link to heading">â€‹</a></h3><p>The updated inventory is displayed:</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Knotted Rope&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14.99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Plush Squirrel&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12.99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/C-Sharp/ASPNet.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/LearningCollection/C-Sharp/DotNet Versions/dotnet6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">.Net 6</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/LearningCollection/C-Sharp/assemblyClass"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Assembly Class</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-structure" class="table-of-contents__link toc-highlight">Project structure</a></li><li><a href="#curl" class="table-of-contents__link toc-highlight">curl</a></li><li><a href="#models" class="table-of-contents__link toc-highlight">Models</a></li><li><a href="#controller" class="table-of-contents__link toc-highlight">Controller</a></li><li><a href="#crud-operations" class="table-of-contents__link toc-highlight">CRUD operations</a></li><li><a href="#example-on-how-to-use-crud-operations" class="table-of-contents__link toc-highlight">Example on how to use CRUD operations</a><ul><li><a href="#retrieve-a-product" class="table-of-contents__link toc-highlight">Retrieve a product</a></li><li><a href="#add-a-product" class="table-of-contents__link toc-highlight">Add a product</a></li><li><a href="#modify-a-product" class="table-of-contents__link toc-highlight">Modify a product</a></li><li><a href="#removing-a-product" class="table-of-contents__link toc-highlight">Removing a product</a></li></ul></li><li><a href="#testing-api-with-curl" class="table-of-contents__link toc-highlight">Testing API with curl</a><ul><li><a href="#invalid-http-post-request" class="table-of-contents__link toc-highlight">invalid HTTP POST request</a></li><li><a href="#valid-http-post-request" class="table-of-contents__link toc-highlight">valid HTTP POST request</a></li><li><a href="#valid-http-get-request" class="table-of-contents__link toc-highlight">valid HTTP Get request</a></li><li><a href="#valid-http-put-request" class="table-of-contents__link toc-highlight">valid HTTP PUT request</a></li><li><a href="#valid-http-delete-request" class="table-of-contents__link toc-highlight">valid HTTP DELETE request</a></li><li><a href="#valid-http-get-request-1" class="table-of-contents__link toc-highlight">valid HTTP GET request</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">My other sites</div><ul class="footer__items"><li class="footer__item"><a href="https://robintty.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Socials</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/RobinTTY" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/robin-m%C3%BCller-574782170/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Robin MÃ¼ller. Built with Docusaurus.</div></div></div></footer></div>
<script src="/LearningCollection/assets/js/runtime~main.4395e737.js"></script>
<script src="/LearningCollection/assets/js/main.f876d8cb.js"></script>
</body>
</html>