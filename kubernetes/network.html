<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-kubernetes/network" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Network | Learning Collection Knowledge Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://RobinTTY.github.io/LearningCollection/kubernetes/network"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Network | Learning Collection Knowledge Base"><meta data-rh="true" name="description" content="The Kubernetes network model is built out of several pieces:"><meta data-rh="true" property="og:description" content="The Kubernetes network model is built out of several pieces:"><link data-rh="true" rel="icon" href="/LearningCollection/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://RobinTTY.github.io/LearningCollection/kubernetes/network"><link data-rh="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/kubernetes/network" hreflang="en"><link data-rh="true" rel="alternate" href="https://RobinTTY.github.io/LearningCollection/kubernetes/network" hreflang="x-default"><link rel="stylesheet" href="/LearningCollection/assets/css/styles.04390029.css">
<script src="/LearningCollection/assets/js/runtime~main.c7b83997.js" defer="defer"></script>
<script src="/LearningCollection/assets/js/main.e4150758.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/LearningCollection/"><div class="navbar__logo"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/LearningCollection/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Learning Collection</b></a><a class="navbar__item navbar__link" href="/LearningCollection/">Docs</a><a class="navbar__item navbar__link" sidebarid="finance" href="/LearningCollection/finance/introduction">Finance</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Network</h1></header><p>The Kubernetes network model is built out of several pieces:</p>
<ul>
<li class="">Each pod in a cluster gets its own unique cluster-wide IP address</li>
<li class="">The pod network (also called a cluster network) handles communication between pods. It ensures that (barring intentional network segmentation):<!-- -->
<ul>
<li class="">All pods can communicate with all other pods, whether they are on the same node or on different nodes. Pods can communicate with each other directly, without the use of proxies or address translation (NAT).</li>
<li class="">Agents on a node (such as system daemons, or kubelet) can communicate with all pods on that node.</li>
</ul>
</li>
<li class="">The Service API lets you provide a stable (long lived) IP address or hostname for a service implemented by one or more backend pods, where the individual pods making up the service can change over time.</li>
<li class="">The Gateway API (or its predecessor, Ingress) allows you to make Services accessible to clients that are outside the cluster.</li>
<li class="">NetworkPolicy is a built-in Kubernetes API that allows you to control traffic between pods, or between pods and the outside world.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="cni-container-network-interface">CNI (Container Network Interface)<a href="#cni-container-network-interface" class="hash-link" aria-label="Direct link to CNI (Container Network Interface)" title="Direct link to CNI (Container Network Interface)" translate="no">​</a></h2>
<p>For cluster networking Kubernetes relies on the Container Network Interface (CNI) standard. Third party CNI plugins implement the actual networking functionality. Popular CNI plugins are:</p>
<ul>
<li class="">Calico</li>
<li class="">Flannel</li>
<li class="">Cilium</li>
</ul>
<p>To check which plugin is used in your cluster you can check via: <code>ls /etc/cni/net.d/</code></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="service-types">Service Types<a href="#service-types" class="hash-link" aria-label="Direct link to Service Types" title="Direct link to Service Types" translate="no">​</a></h2>
<p>There are 3 different types that can be used to expose service inside or outside the cluster:</p>
<ul>
<li class="">ClusterIP (default)<!-- -->
<ul>
<li class="">Exposes the service on a cluster-internal IP</li>
<li class="">Makes the service only reachable from within the cluster</li>
</ul>
</li>
<li class="">NodePort<!-- -->
<ul>
<li class="">Exposes the service on each Node&#x27;s IP at a static port (the NodePort)</li>
<li class="">A ClusterIP service, to which the NodePort service routes, is automatically created</li>
<li class="">Makes the service reachable from outside the cluster using <code>&lt;NodeIP&gt;:&lt;NodePort&gt;</code></li>
</ul>
</li>
<li class="">LoadBalancer<!-- -->
<ul>
<li class="">Exposes the service externally using a cloud provider&#x27;s load balancer</li>
<li class="">A NodePort and ClusterIP service, to which the external load balancer routes, are automatically created</li>
<li class="">Makes the service reachable from outside the cluster using the load balancer&#x27;s IP address</li>
</ul>
</li>
</ul>
<p>kube-proxy is responsible for translating the services into usable network rules.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="dns">DNS<a href="#dns" class="hash-link" aria-label="Direct link to DNS" title="Direct link to DNS" translate="no">​</a></h2>
<ul>
<li class="">Each service is automatically registered with the kube-dns (now CoreDNS) and has a CNAME record created like <code>web-service.default.svc.cluster.local</code></li>
<li class="">The same can be enabled for pods. They will get a CNAME like: <code>pod-ip-address.namespace.pod.cluster.local</code></li>
<li class="">The CoreDNS service is registered as a pod in the cluster and is responsible for resolving IPs to hostnames and vice versa</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ingress">Ingress<a href="#ingress" class="hash-link" aria-label="Direct link to Ingress" title="Direct link to Ingress" translate="no">​</a></h2>
<ul>
<li class="">Ingress is an API object that manages external access to the services in a cluster, typically HTTP</li>
<li class="">Ingress can provide load balancing, SSL termination and name-based virtual hosting</li>
<li class="">Ingress was recently succeeded by Gateway API, which provides more flexibility and features</li>
<li class="">An Ingress controller like nginx or traefik is required to implement the Ingress rules<!-- -->
<ul>
<li class="">the controller acts upon the ingress resources</li>
<li class="">the controller is deployed via a deployment exposed through a service, has its config in a ConfigMap and a ServiceAccount for Authorization</li>
</ul>
</li>
<li class="">Routes can route traffic via different URL prefixes for instance</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/kubernetes/network.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cni-container-network-interface" class="table-of-contents__link toc-highlight">CNI (Container Network Interface)</a></li><li><a href="#service-types" class="table-of-contents__link toc-highlight">Service Types</a></li><li><a href="#dns" class="table-of-contents__link toc-highlight">DNS</a></li><li><a href="#ingress" class="table-of-contents__link toc-highlight">Ingress</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">My other sites</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.robintty.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Socials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/RobinTTY" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/robin-m%C3%BCller-574782170/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>