"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[6195],{5851:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var t=n(4848),i=n(8453);const s={id:"parameter-binding",title:"Parameter Binding"},o=void 0,c={id:"csharp/asp-net/core-concepts/parameter-binding",title:"Parameter Binding",description:"An API often wants to be able to accept certain data with a request. For instance to retrieve a book from the following endpoint, we need to provide the bookId:",source:"@site/docs/csharp/asp-net/core-concepts/parameter-binding.md",sourceDirName:"csharp/asp-net/core-concepts",slug:"/csharp/asp-net/core-concepts/parameter-binding",permalink:"/LearningCollection/csharp/asp-net/core-concepts/parameter-binding",draft:!1,unlisted:!1,editUrl:"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/csharp/asp-net/core-concepts/parameter-binding.md",tags:[],version:"current",frontMatter:{id:"parameter-binding",title:"Parameter Binding"},sidebar:"docs",previous:{title:"Controllers",permalink:"/LearningCollection/csharp/asp-net/core-concepts/controllers"},next:{title:"API Errors",permalink:"/LearningCollection/csharp/asp-net/core-concepts/api-errors"}},a={},d=[{value:"Binding source",id:"binding-source",level:2},{value:"Binding source parameter inference",id:"binding-source-parameter-inference",level:3}];function l(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["An API often wants to be able to accept certain data with a request. For instance to retrieve a book from the following endpoint, we need to provide the ",(0,t.jsx)(r.code,{children:"bookId"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-csharp",children:'[HttpGet("{id}")]\npublic ActionResult<Book> Get(int bookId)\n{\n    ...\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"There are different ways we can accept these parameters, they are called binding sources."}),"\n",(0,t.jsx)(r.h2,{id:"binding-source",children:"Binding source"}),"\n",(0,t.jsx)(r.p,{children:"A binding source attribute defines the location at which an action parameter's value is found. The following binding source attributes exist:"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Attribute"}),(0,t.jsx)(r.th,{children:"Binding Source"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromBody]"})}),(0,t.jsx)(r.td,{children:"Request body"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromForm]"})}),(0,t.jsx)(r.td,{children:"Form data in the request body"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromHeader]"})}),(0,t.jsx)(r.td,{children:"Request header"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromQuery]"})}),(0,t.jsx)(r.td,{children:"Request query string parameter"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromRoute]"})}),(0,t.jsx)(r.td,{children:"Route data from the current request"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[FromServices]"})}),(0,t.jsx)(r.td,{children:"The request service injected as an action parameter"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"[AsParameters]"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/aspnet/core/fundamentals/minimal-apis?view=aspnetcore-8.0#asparam7",children:"Method parameters"})})]})]})]}),"\n",(0,t.jsx)(r.h3,{id:"binding-source-parameter-inference",children:"Binding source parameter inference"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"[ApiController]"})," attribute applies inference rules for the default data sources of action parameters. These rules save you from having to identify binding sources manually by applying attributes to the action parameters. The binding source inference rules behave as follows:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"[FromServices]"})," is inferred for complex type parameters registered in the DI Container."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"[FromBody]"})," is inferred for complex type parameters not registered in the DI Container. An exception to the ",(0,t.jsx)(r.code,{children:"[FromBody]"})," inference rule is any complex, built-in type with a special meaning, such as ",(0,t.jsx)(r.code,{children:"IFormCollection"})," and ",(0,t.jsx)(r.code,{children:"CancellationToken"}),". The binding source inference code ignores those special types."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"[FromForm]"})," is inferred for action parameters of type ",(0,t.jsx)(r.code,{children:"IFormFile"})," and ",(0,t.jsx)(r.code,{children:"IFormFileCollection"}),". It's not inferred for any simple or user-defined types."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"[FromRoute]"})," is inferred for any action parameter name matching a parameter in the route template. When more than one route matches an action parameter, any route value is considered ",(0,t.jsx)(r.code,{children:"[FromRoute]"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"[FromQuery]"})," is inferred for any other action parameters."]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["There are some more particularities with parameter inference which can be found ",(0,t.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/aspnet/core/web-api/?view=aspnetcore-8.0#binding-source-parameter-inference",children:"here"}),"."]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>c});var t=n(6540);const i={},s=t.createContext(i);function o(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);