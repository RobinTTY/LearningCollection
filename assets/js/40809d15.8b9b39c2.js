"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[5544],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return d}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,h=m["".concat(s,".").concat(d)]||m[d]||p[d]||i;return n?o.createElement(h,a(a({ref:t},l),{},{components:n})):o.createElement(h,a({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var u=2;u<i;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8506:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return l},default:function(){return m}});var o=n(7462),r=n(3366),i=(n(7294),n(3905)),a=["components"],c={id:"useContext",title:"useContext",sidebar_position:3},s=void 0,u={unversionedId:"Web/React/Hooks/useContext",id:"Web/React/Hooks/useContext",isDocsHomePage:!1,title:"useContext",description:"The useContext Hook provides the same functionality as the Context API, just packaged up into a simple to use Hook that you can use inside functional components. The hook makes our code more readable and compact.",source:"@site/docs/Web/React/Hooks/useContext.md",sourceDirName:"Web/React/Hooks",slug:"/Web/React/Hooks/useContext",permalink:"/LearningCollection/Web/React/Hooks/useContext",editUrl:"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/Web/React/Hooks/useContext.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"useContext",title:"useContext",sidebar_position:3},sidebar:"mySidebar",previous:{title:"useEffect",permalink:"/LearningCollection/Web/React/Hooks/useEffect"},next:{title:"useReducer",permalink:"/LearningCollection/Web/React/Hooks/useReducer"}},l=[{value:"Usage",id:"usage",children:[]},{value:"Example",id:"example",children:[{value:"Creating context",id:"creating-context",children:[]},{value:"Providing Context",id:"providing-context",children:[]},{value:"Consuming context",id:"consuming-context",children:[]}]}],p={toc:l};function m(e){var t=e.components,n=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"useContext")," Hook provides the same functionality as the ",(0,i.kt)("a",{parentName:"p",href:"../Advanced%20Concepts/Context"},"Context API"),", just packaged up into a simple to use Hook that you can use inside functional components. The hook makes our code more readable and compact."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"If we were to write our component with the context API, we would consume context like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"{3}","{3}":!0},"const Book = ({ item }) => {\n  return (\n    <CurrencyContext.Consumer>\n      {(currency) => (\n        <li>\n          {item.title} - {item.price} {currency}\n        </li>\n      )}\n    </CurrencyContext.Consumer>\n  );\n};\n")),(0,i.kt)("p",null,"If we are using the useContext hook instead, it looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"{2,6}","{2,6}":!0},"const Book = ({ item }) => {\n  const currency = React.useContext(CurrencyContext);\n\n  return (\n    <li>\n      {item.title} - {item.price} {currency}\n    </li>\n  );\n};\n")),(0,i.kt)("p",null,"React's ",(0,i.kt)("inlineCode",{parentName:"p"},"useContext")," Hook takes the Context as parameter to retrieve the value from it. Using the React Hook instead of the Consumer component makes the code more readable, less verbose, and doesn't introduce a component (here Consumer component) in between."),(0,i.kt)("p",null,"A component calling ",(0,i.kt)("inlineCode",{parentName:"p"},"useContext")," will always re-render when the context value changes. If re-rendering the component is expensive, you can ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/facebook/react/issues/15156#issuecomment-474590693"},"optimize it by using memoization"),"."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("h3",{id:"creating-context"},"Creating context"),(0,i.kt)("p",null,"To create a context object we use ",(0,i.kt)("inlineCode",{parentName:"p"},"React.createContext()"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/store/auth-context.js"',title:'"/store/auth-context.js"'},"const AuthContext = React.createContext({\n    isLoggedIn: false;\n});\n\nexport default AuthContext;\n")),(0,i.kt)("p",null,"In this example we handle the information whether or not a user is currently logged in."),(0,i.kt)("h3",{id:"providing-context"},"Providing Context"),(0,i.kt)("p",null,"To provide context to components at any point down the component tree, we need provide it as a parent to those components. Components will receive the context an arbitrary number of levels down the tree. In this example we provide the context in ",(0,i.kt)("inlineCode",{parentName:"p"},"index.js")," since the authorization context is interesting for all components in our application:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'import App from "./App";\nimport { AuthContextProvider } from "./store/auth-context";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <App />\n  </AuthContextProvider>,\n  document.getElementById("root")\n);\n')),(0,i.kt)("p",null,"Now we can access the ",(0,i.kt)("inlineCode",{parentName:"p"},"AuthContext")," in any component inside ",(0,i.kt)("inlineCode",{parentName:"p"},"App"),"."),(0,i.kt)("h3",{id:"consuming-context"},"Consuming context"))}m.isMDXComponent=!0}}]);