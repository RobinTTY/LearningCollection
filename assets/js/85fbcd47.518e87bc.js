"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[6472],{69093:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"cloud/aws/certified-developer-associate/misc-serverless","title":"Miscellaneous Serverless","description":"AWS Step Functions","source":"@site/docs/cloud/aws/certified-developer-associate/misc-serverless.md","sourceDirName":"cloud/aws/certified-developer-associate","slug":"/cloud/aws/certified-developer-associate/misc-serverless","permalink":"/LearningCollection/cloud/aws/certified-developer-associate/misc-serverless","draft":false,"unlisted":false,"editUrl":"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/cloud/aws/certified-developer-associate/misc-serverless.md","tags":[],"version":"current","sidebarPosition":24,"frontMatter":{"title":"Miscellaneous Serverless","sidebar_position":24},"sidebar":"docs","previous":{"title":"Cognito","permalink":"/LearningCollection/cloud/aws/certified-developer-associate/cognito"},"next":{"title":"Advanced Identity","permalink":"/LearningCollection/cloud/aws/certified-developer-associate/advanced-identity"}}');var t=s(74848),a=s(28453);const r={title:"Miscellaneous Serverless",sidebar_position:24},l=void 0,o={},c=[{value:"AWS Step Functions",id:"aws-step-functions",level:2},{value:"Task States",id:"task-states",level:3},{value:"States",id:"states",level:3},{value:"Visual workflow",id:"visual-workflow",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Retry (Task or Parallel State)",id:"retry-task-or-parallel-state",level:3},{value:"Catch (Task or Parallel State)",id:"catch-task-or-parallel-state",level:3},{value:"ResultPath",id:"resultpath",level:3},{value:"Wait for Task Token",id:"wait-for-task-token",level:3},{value:"Activity Tasks",id:"activity-tasks",level:3},{value:"Standard vs. Express",id:"standard-vs-express",level:3},{value:"AWS AppSync",id:"aws-appsync",level:2},{value:"GraphQL Example",id:"graphql-example",level:3},{value:"AppSync Diagram",id:"appsync-diagram",level:3},{value:"Security",id:"security",level:3},{value:"AWS Amplify",id:"aws-amplify",level:2},{value:"Important Features",id:"important-features",level:3},{value:"Amplify Hosting",id:"amplify-hosting",level:3},{value:"End-to-End (E2E) Testing",id:"end-to-end-e2e-testing",level:3}];function d(e){const n={h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"aws-step-functions",children:"AWS Step Functions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Model your workflows as state machines (one per workflow)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Order fulfillment, Data processing"}),"\n",(0,t.jsx)(n.li,{children:"Web applications, Any workflow"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Written in JSON"}),"\n",(0,t.jsx)(n.li,{children:"Visualization of the workflow and the execution of the workflow, as well as history"}),"\n",(0,t.jsx)(n.li,{children:"Start workflow with SDK call, API Gateway, Event Bridge (CloudWatch Event)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"task-states",children:"Task States"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Do some work in your state machine"}),"\n",(0,t.jsxs)(n.li,{children:["Invoke one AWS service","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can invoke a Lambda function"}),"\n",(0,t.jsx)(n.li,{children:"Run an AWS Batch job"}),"\n",(0,t.jsx)(n.li,{children:"Run an ECS task and wait for it to complete"}),"\n",(0,t.jsx)(n.li,{children:"Insert an item from DynamoDB"}),"\n",(0,t.jsx)(n.li,{children:"Publish message to SNS, SQS"}),"\n",(0,t.jsx)(n.li,{children:"Launch another Step Function workflow\u2026"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Run an one Activity","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"EC2, Amazon ECS, on-premises"}),"\n",(0,t.jsx)(n.li,{children:"Activities poll the Step functions for work"}),"\n",(0,t.jsx)(n.li,{children:"Activities send results back to Step Functions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"step-functions",src:s(93399).A+"",width:"296",height:"304"})}),"\n",(0,t.jsx)(n.h3,{id:"states",children:"States"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Choice State"})," - Test for a condition to send to a branch (or default branch)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fail or Succeed State"})," - Stop execution with failure or success"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pass State"})," - Simply pass its input to its output or inject some fixed data, without performing work."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Wait State"})," - Provide a delay for a certain amount of time or until a specified time/date."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Map State"})," - Dynamically iterate steps.\u2019"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parallel State"})," - Begin parallel branches of execution."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"visual-workflow",children:"Visual workflow"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"step-functions-workflow",src:s(95821).A+"",width:"626",height:"219"})}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Any state can encounter runtime errors for various reasons:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"State machine definition issues (for example, no matching rule in a Choice state)"}),"\n",(0,t.jsx)(n.li,{children:"Task failures (for example, an exception in a Lambda function)"}),"\n",(0,t.jsx)(n.li,{children:"Transient issues (for example, network partition events)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Use Retry (to retry failed state) and Catch (transition to failure path) in the State Machine to handle the errors instead of inside the Application Code"}),"\n",(0,t.jsxs)(n.li,{children:["Predefined error codes:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"States.ALL : matches any error name"}),"\n",(0,t.jsx)(n.li,{children:"States.Timeout: Task ran longer than TimeoutSeconds or no heartbeat received"}),"\n",(0,t.jsx)(n.li,{children:"States.TaskFailed: execution failure"}),"\n",(0,t.jsx)(n.li,{children:"States.Permissions: insufficient privileges to execute code"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"The state may report is own errors"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"retry-task-or-parallel-state",children:"Retry (Task or Parallel State)"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"step-function-retry",src:s(32255).A+"",width:"304",height:"261"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Evaluated from top to bottom"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ErrorEquals"}),": match a specific kind of error"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IntervalSeconds"}),": initial delay before retrying"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"BackoffRate"}),": multiple the delay after each retry"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MaxAttempts"}),": default to 3, set to 0 for never retried"]}),"\n",(0,t.jsxs)(n.li,{children:["When max attempts are reached, the ",(0,t.jsx)(n.strong,{children:"Catch"})," kicks in"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"catch-task-or-parallel-state",children:"Catch (Task or Parallel State)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Evaluated from top to bottom"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ErrorEquals"}),": match a specific kind of error"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Next"}),": State to send to"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ResultPath"}),": A path that determines what input is sent to the state specified in the Next field"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resultpath",children:"ResultPath"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"step-function-result-path",src:s(39820).A+"",width:"644",height:"249"})}),"\n",(0,t.jsx)(n.h3,{id:"wait-for-task-token",children:"Wait for Task Token"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allows you to pause Step Functions during a Task until a Task Token is returned"}),"\n",(0,t.jsx)(n.li,{children:"Task might wait for other AWS ser vices, human approval, 3rd party integration, call legacy systems\u2026"}),"\n",(0,t.jsx)(n.li,{children:"Append .waitForTaskToken to the Resource field to tell Step Functions to wait for the Task Token to be returned"}),"\n",(0,t.jsx)(n.li,{children:"Task will pause until it receives that Task Token back with a SendTaskSuccess or SendTaskFailure API call"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"waitForTaskToken",src:s(23807).A+"",width:"620",height:"311"})}),"\n",(0,t.jsx)(n.h3,{id:"activity-tasks",children:"Activity Tasks"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enables you to have the Task work performed by an Activity Worker"}),"\n",(0,t.jsx)(n.li,{children:"Activity Worker apps can be running on EC2, Lambda, mobile device\u2026"}),"\n",(0,t.jsx)(n.li,{children:"Activity Worker poll for a Task using GetActivityTask API"}),"\n",(0,t.jsx)(n.li,{children:"After Activity Worker completes its work, it sends a response of its success/failure using SendTaskSuccess or SendTaskFailure"}),"\n",(0,t.jsxs)(n.li,{children:["To keep the Task active:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configure how long a task can wait by setting TimeoutSeconds"}),"\n",(0,t.jsx)(n.li,{children:"Periodically send a heartbeat from your Activity Worker using SendTaskHeartBeat within the time you set in HeartBeatSeconds"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"By configuring a long TimeoutSeconds and actively sending a heartbeat, Activity Task can wait up to 1 year"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"activity-tasks",src:s(24547).A+"",width:"187",height:"305"})}),"\n",(0,t.jsx)(n.h3,{id:"standard-vs-express",children:"Standard vs. Express"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"step-function-standard-express",src:s(5181).A+"",width:"646",height:"284"})}),"\n",(0,t.jsx)(n.h2,{id:"aws-appsync",children:"AWS AppSync"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"AppSync is a managed service that uses GraphQL"}),"\n",(0,t.jsx)(n.li,{children:"GraphQL makes it easy for applications to get exactly the data they need."}),"\n",(0,t.jsxs)(n.li,{children:["This includes combining data from one or more sources","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"NoSQL data stores, Relational databases, HTTP APIs\u2026"}),"\n",(0,t.jsx)(n.li,{children:"Integrates with DynamoDB, Aurora, OpenSearch & others"}),"\n",(0,t.jsx)(n.li,{children:"Custom sources with AWS Lambda"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Retrieve data in real-time with WebSocket or MQTT on WebSocket"}),"\n",(0,t.jsx)(n.li,{children:"For mobile apps: local data access & data synchronization"}),"\n",(0,t.jsx)(n.li,{children:"It all starts with uploading one GraphQL schema"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"graphql-example",children:"GraphQL Example"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"graphql-example",src:s(15587).A+"",width:"624",height:"341"})}),"\n",(0,t.jsx)(n.h3,{id:"appsync-diagram",children:"AppSync Diagram"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"appsync-diagram",src:s(87765).A+"",width:"640",height:"285"})}),"\n",(0,t.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"There are four ways you can authorize applications to interact with your AWS AppSync GraphQL API:"}),"\n",(0,t.jsx)(n.li,{children:"API_KEY"}),"\n",(0,t.jsx)(n.li,{children:"AWS_IAM: IAM users / roles / cross-account access"}),"\n",(0,t.jsx)(n.li,{children:"OPENID_CONNECT: OpenID Connect provider / JSON Web Token"}),"\n",(0,t.jsx)(n.li,{children:"AMAZON_COGNITO_USER_POOLS"}),"\n",(0,t.jsx)(n.li,{children:"For custom domain & HTTPS, use CloudFront in front of AppSync"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"aws-amplify",children:"AWS Amplify"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set of tools to get started with creating mobile and web applications","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cElastic Beanstalk for mobile and web applications\u201d"}),"\n",(0,t.jsx)(n.li,{children:"Must-have features such as data storage, authentication, storage, and machine-learning, all powered by AWS services"}),"\n",(0,t.jsx)(n.li,{children:"Front-end libraries with ready-to-use components for React.js, Vue, Javascript, iOS, Android, Flutter, etc\u2026"}),"\n",(0,t.jsx)(n.li,{children:"Incorporates AWS best practices to for reliability, security, scalability"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amplify Studio:"})," Visually build full-stack app, FE and BE"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amplify CLI:"})," Configure an Amplify backend with a guided CLI workflow"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amplify Libraries:"})," Connect your app to existing AWS services (Cognito, S3 and more)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amplify Hosting:"})," Host apps or websites via the AWS content deliver network"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"important-features",children:"Important Features"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"amplify-important-features",src:s(46902).A+"",width:"612",height:"297"})}),"\n",(0,t.jsx)(n.h3,{id:"amplify-hosting",children:"Amplify Hosting"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Build and Host Modern Web Apps"}),"\n",(0,t.jsx)(n.li,{children:"CICD (build, test, deploy)"}),"\n",(0,t.jsx)(n.li,{children:"Pull Request Previews"}),"\n",(0,t.jsx)(n.li,{children:"Custom Domains"}),"\n",(0,t.jsx)(n.li,{children:"Monitoring"}),"\n",(0,t.jsx)(n.li,{children:"Redirect and Custom Headers"}),"\n",(0,t.jsx)(n.li,{children:"Password protection"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"end-to-end-e2e-testing",children:"End-to-End (E2E) Testing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"amplify-e2e",src:s(98248).A+"",width:"628",height:"297"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},24547:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/activity-tasks-6dcf5c29721ed4fd58c6095892857a50.png"},98248:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/amplify-e2e-040db14d95acbccda139a488b62c22a6.png"},46902:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/amplify-important-features-f3d138dc7ad1ac6f71d33cb1d8000ab0.png"},87765:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/appsync-diagram-7774c957e40826f0bf9820ae364ded35.png"},15587:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/graphql-example-2123932ef6d203143ea40b03eb08feba.png"},39820:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/step-function-result-path-d5ebfe2b42ac558c39457ccf0af3c3eb.png"},32255:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/step-function-retry-aa7c90c3f03b0f29a7047b61b4898c32.png"},5181:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/step-function-standard-express-918df55f59308b13c6b2e3924cb9d0de.png"},95821:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/step-functions-workflow-3592df6064be2da56fde459329dec653.png"},93399:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/step-functions-95da844bb1b921b69dca0e22766d676d.png"},23807:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/waitForTaskToken-e3f417276bdc7c2f5872a50b079a1400.png"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(96540);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);