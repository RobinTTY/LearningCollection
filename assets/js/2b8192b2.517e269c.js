"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[6749],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>b});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,b=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(b,i(i({ref:t},p),{},{components:n})):a.createElement(b,i({ref:t},p))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7962:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={id:"altering-tables",title:"Altering Tables",sidebar_position:2},i=void 0,l={unversionedId:"Databases/sql/core-concepts/altering-tables",id:"Databases/sql/core-concepts/altering-tables",title:"Altering Tables",description:"INSERT statement",source:"@site/docs/Databases/sql/core-concepts/altering-tables.md",sourceDirName:"Databases/sql/core-concepts",slug:"/Databases/sql/core-concepts/altering-tables",permalink:"/LearningCollection/Databases/sql/core-concepts/altering-tables",draft:!1,editUrl:"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/Databases/sql/core-concepts/altering-tables.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"altering-tables",title:"Altering Tables",sidebar_position:2},sidebar:"finance",previous:{title:"Querying Tables",permalink:"/LearningCollection/Databases/sql/core-concepts/querying-tables"},next:{title:"Functions",permalink:"/LearningCollection/Databases/sql/core-concepts/functions"}},s={},c=[{value:"<code>INSERT</code> statement",id:"insert-statement",level:2},{value:"SQL Injection",id:"sql-injection",level:3},{value:"<code>DELETE</code> statement",id:"delete-statement",level:2},{value:"Soft Deletes",id:"soft-deletes",level:3},{value:"<code>UPDATE</code> statement",id:"update-statement",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"insert-statement"},(0,r.kt)("inlineCode",{parentName:"h2"},"INSERT")," statement"),(0,r.kt)("p",null,"SQL we can add records to a table using an ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT INTO")," statement. When using an ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT")," statement we must first specify the table we are inserting the record into, followed by the fields within that table we want to add ",(0,r.kt)("inlineCode",{parentName:"p"},"VALUES")," to."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO employees(id, name, title)\nVALUES (1, 'Allan', 'Engineer');\n")),(0,r.kt)("p",null,"When working with SQL within a software system, like a backend web application, you'll typically have access to a programming language. For example, a backend server written in Go can use string concatenation to dynamically create SQL statements, and that's usually how it's done:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"sqlQuery := fmt.Sprintf(`\nINSERT INTO users(name, age, country_code)\nVALUES ('%s', %v, %s);\n`, user.Name, user.Age, user.CountryCode)\n")),(0,r.kt)("h3",{id:"sql-injection"},"SQL Injection"),(0,r.kt)("p",null,"The example above is an oversimplification of what really happens when you access a database using Go code. In essence, it's correct. String interpolation is how production systems access databases. That said, it must be done carefully to not be a ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SQL_injection"},"security vulnerability"),"."),(0,r.kt)("h2",{id:"delete-statement"},(0,r.kt)("inlineCode",{parentName:"h2"},"DELETE")," statement"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"DELETE")," statement removes a record from a table that match the ",(0,r.kt)("inlineCode",{parentName:"p"},"WHERE")," clause. As an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE from employees WHERE id = 251;\n")),(0,r.kt)("p",null,"This ",(0,r.kt)("inlineCode",{parentName:"p"},"DELETE")," statement removes all records from the ",(0,r.kt)("inlineCode",{parentName:"p"},"employees")," table that have an ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," of ",(0,r.kt)("inlineCode",{parentName:"p"},"251"),"."),(0,r.kt)("h3",{id:"soft-deletes"},"Soft Deletes"),(0,r.kt)("p",null,'Deleting data can be a dangerous operation. Once removed, data can be really hard if not impossible to restore! Besides using backups we can use a technique called "soft deletes".'),(0,r.kt)("p",null,'A "soft delete" is when you don\'t actually delete data from your database, but instead just "mark" the data as deleted. For example, you might set a ',(0,r.kt)("inlineCode",{parentName:"p"},"deleted_at")," date on the row you want to delete. Then, in your queries you ignore anything that has a ",(0,r.kt)("inlineCode",{parentName:"p"},"deleted_at")," date set. The idea is that this allows your application to behave as if it's deleting data, but you can always go back and restore any data that's been removed."),(0,r.kt)("p",null,"It is important to keep in mind that this will introduce complexity to your application and other concerns such as those related to GDPR regulation about data deletion."),(0,r.kt)("h2",{id:"update-statement"},(0,r.kt)("inlineCode",{parentName:"h2"},"UPDATE")," statement"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"UPDATE")," statement in SQL allows us to update the fields of a record. We can even update many records depending on how we write the statement."),(0,r.kt)("p",null,"An ",(0,r.kt)("inlineCode",{parentName:"p"},"UPDATE")," statement specifies the table that needs to be updated, followed by the fields and their new values by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"SET")," keyword. Lastly a ",(0,r.kt)("inlineCode",{parentName:"p"},"WHERE")," clause indicates the record(s) to update."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE employees\nSET job_title = 'Backend Engineer', salary = 150000\nWHERE id = 251;\n")))}u.isMDXComponent=!0}}]);