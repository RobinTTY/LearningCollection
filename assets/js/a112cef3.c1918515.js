"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[557],{32572:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var n=i(74848),l=i(28453);const a={title:"Integration & Messaging",sidebar_position:15},r=void 0,t={id:"cloud/aws/certified-developer-associate/integration-messaging",title:"Integration & Messaging",description:"- When we start deploying multiple applications, they will inevitably need to communicate with one another",source:"@site/docs/cloud/aws/certified-developer-associate/integration-messaging.md",sourceDirName:"cloud/aws/certified-developer-associate",slug:"/cloud/aws/certified-developer-associate/integration-messaging",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/integration-messaging",draft:!1,unlisted:!1,editUrl:"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/cloud/aws/certified-developer-associate/integration-messaging.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{title:"Integration & Messaging",sidebar_position:15},sidebar:"docs",previous:{title:"CloudFormation",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/cloudformation"},next:{title:"Exam Scoring",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/exam-scoring"}},d={},c=[{value:"Amazon SQS",id:"amazon-sqs",level:2},{value:"Standard Queue",id:"standard-queue",level:3},{value:"Producing Messages",id:"producing-messages",level:3},{value:"Consuming Messages",id:"consuming-messages",level:3},{value:"Multiple EC2 Instances Consumers",id:"multiple-ec2-instances-consumers",level:3},{value:"Auto Scaling Group (ASG)",id:"auto-scaling-group-asg",level:3},{value:"Decoupling application tiers",id:"decoupling-application-tiers",level:3},{value:"Security",id:"security",level:3},{value:"Queue Access Policy",id:"queue-access-policy",level:3},{value:"Message Visibility Timeout",id:"message-visibility-timeout",level:3},{value:"Dead Letter Queue (DLQ)",id:"dead-letter-queue-dlq",level:3},{value:"DLQ \u2013 Redrive to Source",id:"dlq--redrive-to-source",level:4},{value:"Delay Queue",id:"delay-queue",level:3},{value:"Long Polling",id:"long-polling",level:3},{value:"Extended Client",id:"extended-client",level:3},{value:"Must know API",id:"must-know-api",level:4},{value:"FIFO Queue",id:"fifo-queue",level:3},{value:"Deduplication",id:"deduplication",level:4},{value:"Message Grouping",id:"message-grouping",level:4},{value:"Amazon SNS",id:"amazon-sns",level:2},{value:"Integrations",id:"integrations",level:3},{value:"How to publish",id:"how-to-publish",level:3},{value:"Security",id:"security-1",level:3},{value:"SNS + SQS: Fan Out",id:"sns--sqs-fan-out",level:3},{value:"S3 Events to multiple queues",id:"s3-events-to-multiple-queues",level:3},{value:"SNS to Amazon S3 through Kinesis Data Firehose",id:"sns-to-amazon-s3-through-kinesis-data-firehose",level:4},{value:"FIFO Topic",id:"fifo-topic",level:3},{value:"Fan Out",id:"fan-out",level:4},{value:"Message Filtering",id:"message-filtering",level:3},{value:"Kinesis Overview",id:"kinesis-overview",level:2},{value:"Kinesis Data Streams",id:"kinesis-data-streams",level:3},{value:"Capacity Modes",id:"capacity-modes",level:3},{value:"Security",id:"security-2",level:3},{value:"Kinesis Producers",id:"kinesis-producers",level:3},{value:"ProvisionedThroughputExceeded",id:"provisionedthroughputexceeded",level:4},{value:"Data Streams Consumers",id:"data-streams-consumers",level:3},{value:"Custom Consumer",id:"custom-consumer",level:4},{value:"Consumers Types",id:"consumers-types",level:4},{value:"Consumers: AWS Lambda",id:"consumers-aws-lambda",level:4},{value:"Kinesis Client Library (KCL)",id:"kinesis-client-library-kcl",level:3},{value:"KCL Example",id:"kcl-example",level:3},{value:"4 Shards",id:"4-shards",level:4},{value:"4 shards, Scaling KCL App",id:"4-shards-scaling-kcl-app",level:4},{value:"6 shards, Scaling Kinesis",id:"6-shards-scaling-kinesis",level:4},{value:"Shard Splitting",id:"shard-splitting",level:3},{value:"Merging Shards",id:"merging-shards",level:3},{value:"Kinesis Data Firehose",id:"kinesis-data-firehose",level:3},{value:"Kinesis Data Streams vs Firehose",id:"kinesis-data-streams-vs-firehose",level:4},{value:"Data Analytics for SQL applications",id:"data-analytics-for-sql-applications",level:4},{value:"Data Analytics for Apache Flink",id:"data-analytics-for-apache-flink",level:4},{value:"Kinesis vs SQS ordering",id:"kinesis-vs-sqs-ordering",level:3},{value:"Ordering data into Kinesis",id:"ordering-data-into-kinesis",level:4},{value:"Ordering data into SQS",id:"ordering-data-into-sqs",level:4},{value:"SQS vs SNS vs Kinesis",id:"sqs-vs-sns-vs-kinesis",level:2}];function o(e){const s={h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"When we start deploying multiple applications, they will inevitably need to communicate with one another"}),"\n",(0,n.jsxs)(s.li,{children:["There are two patterns of application communication","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Synchronous communications (application to application)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Scan be problematic if there are sudden spikes of traffic"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Asynchronous / Event based (application to queue to application)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"It\u2019s better to decouple your applications:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"using SQS: queue model"}),"\n",(0,n.jsx)(s.li,{children:"using SNS: pub/sub model"}),"\n",(0,n.jsx)(s.li,{children:"using Kinesis: real-time streaming model"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"These services can scale independently from our application!"}),"\n",(0,n.jsx)(s.h2,{id:"amazon-sqs",children:"Amazon SQS"}),"\n",(0,n.jsx)(s.h3,{id:"standard-queue",children:"Standard Queue"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Oldest offering (over 10 years old)"}),"\n",(0,n.jsx)(s.li,{children:"Fully managed service, used to decouple applications"}),"\n",(0,n.jsxs)(s.li,{children:["Attributes:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Unlimited throughput, unlimited number of messages in queue"}),"\n",(0,n.jsx)(s.li,{children:"Default retention of messages: 4 days, maximum of 14 days"}),"\n",(0,n.jsx)(s.li,{children:"Low latency (<10ms on publish and receive)"}),"\n",(0,n.jsx)(s.li,{children:"Limitation of 256KB per message sent"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Can have duplicate messages (at least once delivery, occasionally)"}),"\n",(0,n.jsx)(s.li,{children:"Can have out of order messages (best effort ordering)"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"producing-messages",children:"Producing Messages"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Produced to SQS using the SDK (SendMessage API)"}),"\n",(0,n.jsx)(s.li,{children:"The message is persisted in SQS until a consumer deletes it"}),"\n",(0,n.jsx)(s.li,{children:"Message retention: default 4 days, up to 14 days"}),"\n",(0,n.jsxs)(s.li,{children:["Example: send an order to be processed","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Order id"}),"\n",(0,n.jsx)(s.li,{children:"Customer id"}),"\n",(0,n.jsx)(s.li,{children:"Any attributes you want"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"SQS standard: unlimited throughput"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"consuming-messages",children:"Consuming Messages"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Consumers (running on EC2 instances, servers, or AWS Lambda)\u2026"}),"\n",(0,n.jsx)(s.li,{children:"Poll SQS for messages (receive up to 10 messages at a time)"}),"\n",(0,n.jsx)(s.li,{children:"Process the messages (example: insert the message into an RDS database)"}),"\n",(0,n.jsx)(s.li,{children:"Delete the messages using the DeleteMessage API"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-consume",src:i(30107).A+"",width:"1516",height:"337"})}),"\n",(0,n.jsx)(s.h3,{id:"multiple-ec2-instances-consumers",children:"Multiple EC2 Instances Consumers"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Consumers receive and process messages in parallel"}),"\n",(0,n.jsx)(s.li,{children:"At least once delivery"}),"\n",(0,n.jsx)(s.li,{children:"Best-effort message ordering"}),"\n",(0,n.jsx)(s.li,{children:"Consumers delete messages after processing them"}),"\n",(0,n.jsx)(s.li,{children:"We can scale consumers horizontally to improve throughput of processing"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"auto-scaling-group-asg",children:"Auto Scaling Group (ASG)"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-auto-scaling",src:i(2336).A+"",width:"1446",height:"721"})}),"\n",(0,n.jsx)(s.h3,{id:"decoupling-application-tiers",children:"Decoupling application tiers"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-decouple",src:i(90632).A+"",width:"1801",height:"538"})}),"\n",(0,n.jsx)(s.h3,{id:"security",children:"Security"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Encryption:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"In-flight encryption using HTTPS API"}),"\n",(0,n.jsx)(s.li,{children:"At-rest encryption using KMS keys"}),"\n",(0,n.jsx)(s.li,{children:"Client-side encryption if the client wants to perform encryption/decryption itself"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Access Controls: IAM policies to regulate access to the SQS API"}),"\n",(0,n.jsxs)(s.li,{children:["SQS Access Policies (similar to S3 bucket policies)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Useful for cross-account access to SQS queues"}),"\n",(0,n.jsx)(s.li,{children:"Useful for allowing other services (SNS, S3\u2026) to write to an SQS queue"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"queue-access-policy",children:"Queue Access Policy"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-access-policy",src:i(20120).A+"",width:"1783",height:"775"})}),"\n",(0,n.jsx)(s.h3,{id:"message-visibility-timeout",children:"Message Visibility Timeout"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"After a message is polled by a consumer, it becomes invisible to other consumers"}),"\n",(0,n.jsx)(s.li,{children:"By default, the \u201cmessage visibility timeout\u201d is 30 seconds"}),"\n",(0,n.jsx)(s.li,{children:"That means the message has 30 seconds to be processed"}),"\n",(0,n.jsx)(s.li,{children:"After the message visibility timeout is over, the message is \u201cvisible\u201d in SQS"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-message-visibility",src:i(18303).A+"",width:"1450",height:"433"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"If a message is not processed within the visibility timeout, it will be processed twice"}),"\n",(0,n.jsx)(s.li,{children:"A consumer could call the ChangeMessageVisibility API to get more time"}),"\n",(0,n.jsx)(s.li,{children:"If visibility timeout is high (hours), and consumer crashes, re-processing will take time"}),"\n",(0,n.jsx)(s.li,{children:"If visibility timeout is too low (seconds), we may get duplicates"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"dead-letter-queue-dlq",children:"Dead Letter Queue (DLQ)"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"If a consumer fails to process a message within the Visibility Timeout the message goes back to the queue!"}),"\n",(0,n.jsx)(s.li,{children:"We can set a threshold of how many times a message can go back to the queue"}),"\n",(0,n.jsx)(s.li,{children:"After the MaximumReceives threshold is exceeded, the message goes into a Dead Letter Queue (DLQ)"}),"\n",(0,n.jsx)(s.li,{children:"Useful for debugging"}),"\n",(0,n.jsx)(s.li,{children:"DLQ of a FIFO queue must also be a FIFO queue"}),"\n",(0,n.jsx)(s.li,{children:"DLQ of a Standard queue must also be a Standard queue"}),"\n",(0,n.jsxs)(s.li,{children:["Make sure to process the messages in the DLQ before they expire:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Good to set a retention of 14 days in the DLQ"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"dlq--redrive-to-source",children:"DLQ \u2013 Redrive to Source"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Feature to help consume messages in the DLQ to understand what is wrong with them"}),"\n",(0,n.jsx)(s.li,{children:"When our code is fixed, we can redrive the messages from the DLQ back into the source queue (or any other queue) in batches without writing custom code"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"delay-queue",children:"Delay Queue"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Delay a message (consumers don\u2019t see it immediately) up to 15 minutes"}),"\n",(0,n.jsx)(s.li,{children:"Default is 0 seconds (message is available right away)"}),"\n",(0,n.jsx)(s.li,{children:"Can set a default at queue level"}),"\n",(0,n.jsx)(s.li,{children:"Can override the default on send using the DelaySeconds parameter"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"long-polling",children:"Long Polling"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"When a consumer requests messages from the queue, it can optionally \u201cwait\u201d for messages to arrive if there are none in the queue"}),"\n",(0,n.jsx)(s.li,{children:"This is called Long Polling"}),"\n",(0,n.jsx)(s.li,{children:"LongPolling decreases the number of API calls made to SQS while increasing the efficiency and decreasing the latency of your application."}),"\n",(0,n.jsx)(s.li,{children:"The wait time can be between 1 sec to 20 sec (20 sec preferable)"}),"\n",(0,n.jsx)(s.li,{children:"Long Polling is preferable to Short Polling"}),"\n",(0,n.jsx)(s.li,{children:"Long polling can be enabled at the queue level or at the API level using ReceiveMessageWaitTimeSeconds"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"extended-client",children:"Extended Client"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Message size limit is 256KB, how to send large messages, e.g. 1GB?"}),"\n",(0,n.jsx)(s.li,{children:"Using the SQS Extended Client (Java Library)"}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"must-know-api",children:"Must know API"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"CreateQueue (MessageRetentionPeriod), DeleteQueue"}),"\n",(0,n.jsx)(s.li,{children:"PurgeQueue: delete all the messages in queue"}),"\n",(0,n.jsx)(s.li,{children:"SendMessage (DelaySeconds), ReceiveMessage, DeleteMessage"}),"\n",(0,n.jsx)(s.li,{children:"MaxNumberOfMessages: default 1, max 10 (for ReceiveMessage API)"}),"\n",(0,n.jsx)(s.li,{children:"ReceiveMessageWaitTimeSeconds: Long Polling"}),"\n",(0,n.jsx)(s.li,{children:"ChangeMessageVisibility: change the message timeout"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Note: Batch APIs for SendMessage, DeleteMessage, ChangeMessageVisibility helps decrease your costs"}),"\n",(0,n.jsx)(s.h3,{id:"fifo-queue",children:"FIFO Queue"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"FIFO = First In First Out (ordering of messages in the queue)"}),"\n",(0,n.jsx)(s.li,{children:"Limited throughput: 300 msg/s without batching, 3000 msg/s with"}),"\n",(0,n.jsx)(s.li,{children:"Exactly-once send capability (by removing duplicates)"}),"\n",(0,n.jsx)(s.li,{children:"Messages are processed in order by the consumer"}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"deduplication",children:"Deduplication"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["De-duplication interval is 5 minutes","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Two de-duplication methods:"}),"\n",(0,n.jsx)(s.li,{children:"Content-based deduplication: will do a SHA-256 hash of the message body"}),"\n",(0,n.jsx)(s.li,{children:"Explicitly provide a Message Deduplication ID"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"message-grouping",children:"Message Grouping"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"If you specify the same value of MessageGroupID in an SQS FIFO queue, you can only have one consumer, and all the messages are in order"}),"\n",(0,n.jsxs)(s.li,{children:["To get ordering at the level of a subset of messages, specify different values for MessageGroupID","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Messages that share a common Message Group ID will be in order within the group"}),"\n",(0,n.jsx)(s.li,{children:"Each Group ID can have a different consumer (parallel processing!)"}),"\n",(0,n.jsx)(s.li,{children:"Ordering across groups is not guaranteed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"amazon-sns",children:"Amazon SNS"}),"\n",(0,n.jsx)(s.p,{children:"What if you want to send one message to many receivers?"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"amazon-sns",src:i(94292).A+"",width:"1641",height:"604"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"The \u201cevent producer\u201d only sends message to one SNS topic"}),"\n",(0,n.jsx)(s.li,{children:"As many \u201cevent receivers\u201d (subscriptions) as we want to listen to the SNS topic notifications"}),"\n",(0,n.jsx)(s.li,{children:"Each subscriber to the topic will get all the messages (note: new feature to filter messages)\n-Up to 12,500,000 subscriptions per topic"}),"\n",(0,n.jsx)(s.li,{children:"100,000 topics limit"}),"\n",(0,n.jsx)(s.li,{children:"Subscribers: SQS, Lambda, Kinesis Data Firehose, HTTP(S) Endpoints, SMS & Mobile Notifications, Emails"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"integrations",children:"Integrations"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Many AWS services can send data directly to SNS for notifications"}),"\n",(0,n.jsx)(s.li,{children:"Examples: CloudWatch, AWS Budgets, Lambda, DynamoDB, S3, Auto Scaling Groups, and many more..."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"how-to-publish",children:"How to publish"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Topic Publish (using the SDK)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Create a topic"}),"\n",(0,n.jsx)(s.li,{children:"Create a subscription (or many)"}),"\n",(0,n.jsx)(s.li,{children:"Publish to the topic"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["Direct Publish (for mobile apps SDK)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Create a platform application"}),"\n",(0,n.jsx)(s.li,{children:"Create a platform endpoint"}),"\n",(0,n.jsx)(s.li,{children:"Publish to the platform endpoint"}),"\n",(0,n.jsx)(s.li,{children:"Works with Google GCM, Apple APNS, Amazon ADM\u2026"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"security-1",children:"Security"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Encryption:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"In-flight encryption using HTTPS API"}),"\n",(0,n.jsx)(s.li,{children:"At-rest encryption using KMS keys"}),"\n",(0,n.jsx)(s.li,{children:"Client-side encryption if the client wants to perform encryption/decryption itself"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Access Controls:"})," IAM policies to regulate access to the SNS API"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"SNS Access Policies"})," (similar to S3 bucket policies):","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Useful for cross-account access to SNS topics"}),"\n",(0,n.jsx)(s.li,{children:"Useful for allowing other services ( S3\u2026) to write to an SNS topic"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"sns--sqs-fan-out",children:"SNS + SQS: Fan Out"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Push once in SNS, receive in all SQS queues that are subscribers"}),"\n",(0,n.jsx)(s.li,{children:"Fully decoupled, no data loss"}),"\n",(0,n.jsx)(s.li,{children:"SQS allows for: data persistence, delayed processing and retries of work"}),"\n",(0,n.jsx)(s.li,{children:"Ability to add more SQS subscribers over time"}),"\n",(0,n.jsx)(s.li,{children:"Make sure your SQS queue access policy allows for SNS to write"}),"\n",(0,n.jsx)(s.li,{children:"Cross-Region Delivery: works with SQS Queues in other regions"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sns-fan-out",src:i(12524).A+"",width:"1117",height:"300"})}),"\n",(0,n.jsx)(s.h3,{id:"s3-events-to-multiple-queues",children:"S3 Events to multiple queues"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"For the same combination of: event type (e.g. object create) and prefix (e.g. images/) you can only have one S3 Event rule"}),"\n",(0,n.jsx)(s.li,{children:"If you want to send the same S3 event to many SQS queues, use fan-out"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sns-multiple-queues",src:i(87185).A+"",width:"1372",height:"453"})}),"\n",(0,n.jsx)(s.h4,{id:"sns-to-amazon-s3-through-kinesis-data-firehose",children:"SNS to Amazon S3 through Kinesis Data Firehose"}),"\n",(0,n.jsx)(s.p,{children:"SNS can send to Kinesis and therefore we can have the following solutions architecture:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sns-kdf",src:i(34025).A+"",width:"1380",height:"316"})}),"\n",(0,n.jsx)(s.h3,{id:"fifo-topic",children:"FIFO Topic"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"FIFO = First In First Out (ordering of messages in the topic)"}),"\n",(0,n.jsxs)(s.li,{children:["Similar features as SQS FIFO:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Ordering by Message Group ID (all messages in the same group are ordered)"}),"\n",(0,n.jsx)(s.li,{children:"Deduplication using a Deduplication ID or Content Based Deduplication"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Can have SQS Standard and FIFO queues as subscribers"}),"\n",(0,n.jsx)(s.li,{children:"Limited throughput (same throughput as SQS FIFO)"}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"fan-out",children:"Fan Out"}),"\n",(0,n.jsx)(s.p,{children:"In case you need fan out + ordering + deduplication:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sns-fan-out2",src:i(30404).A+"",width:"1162",height:"390"})}),"\n",(0,n.jsx)(s.h3,{id:"message-filtering",children:"Message Filtering"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"JSON policy used to filter messages sent to SNS topic\u2019s subscriptions"}),"\n",(0,n.jsx)(s.li,{children:"If a subscription doesn\u2019t have a filter policy, it receives every message"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"kinesis-overview",children:"Kinesis Overview"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Makes it easy to collect, process, and analyze streaming data in real-time"}),"\n",(0,n.jsxs)(s.li,{children:["Ingest real-time data such as: Application logs, Metrics, Website clickstreams, IoT telemetry data\u2026","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Kinesis Data Streams: capture, process, and store data streams"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Data Firehose: load data streams into AWS data stores"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Data Analytics: analyze data streams with SQL or Apache Flink"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Video Streams: capture, process, and store video streams"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"kinesis-data-streams",children:"Kinesis Data Streams"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-data-streams",src:i(55906).A+"",width:"1750",height:"790"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Retention between 1 day to 365 days"}),"\n",(0,n.jsx)(s.li,{children:"Ability to reprocess (replay) data"}),"\n",(0,n.jsx)(s.li,{children:"Once data is inserted in Kinesis, it can\u2019t be deleted (immutability)"}),"\n",(0,n.jsx)(s.li,{children:"Data that shares the same partition goes to the same shard (ordering)"}),"\n",(0,n.jsx)(s.li,{children:"Producers: AWS SDK, Kinesis Producer Library (KPL), Kinesis Agent"}),"\n",(0,n.jsxs)(s.li,{children:["Consumers:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Write your own: Kinesis Client Library (KCL), AWS SDK"}),"\n",(0,n.jsx)(s.li,{children:"Managed: AWS Lambda, Kinesis Data Firehose, Kinesis Data Analytics"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"capacity-modes",children:"Capacity Modes"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Provisioned mode:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"You choose the number of shards provisioned, scale manually or using API"}),"\n",(0,n.jsx)(s.li,{children:"Each shard gets 1MB/s in (or 1000 records per second)"}),"\n",(0,n.jsx)(s.li,{children:"Each shard gets 2MB/s out (classic or enhanced fan-out consumer)"}),"\n",(0,n.jsx)(s.li,{children:"You pay per shard provisioned per hour"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["On-demand mode:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"No need to provision or manage the capacity"}),"\n",(0,n.jsx)(s.li,{children:"Default capacity provisioned (4 MB/s in or 4000 records per second)"}),"\n",(0,n.jsx)(s.li,{children:"Scales automatically based on observed throughput peak during the last 30 days"}),"\n",(0,n.jsx)(s.li,{children:"Pay per stream per hour & data in/out per GB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"security-2",children:"Security"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Control access / authorization using IAM policies"}),"\n",(0,n.jsx)(s.li,{children:"Encryption in flight using HTTPS endpoints"}),"\n",(0,n.jsx)(s.li,{children:"Encryption at rest using KMS"}),"\n",(0,n.jsx)(s.li,{children:"You can implement encryption/decryption of data on client side (harder)"}),"\n",(0,n.jsx)(s.li,{children:"VPC Endpoints available for Kinesis to access within VPC"}),"\n",(0,n.jsx)(s.li,{children:"Monitor API calls using CloudTrail"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kds-security",src:i(51066).A+"",width:"883",height:"730"})}),"\n",(0,n.jsx)(s.h3,{id:"kinesis-producers",children:"Kinesis Producers"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Puts data records into data streams"}),"\n",(0,n.jsxs)(s.li,{children:["Data record consists of:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Sequence number (unique per partition-key within shard)"}),"\n",(0,n.jsx)(s.li,{children:"Partition key (must specify while put records into stream)"}),"\n",(0,n.jsx)(s.li,{children:"Data blob (up to 1 MB)"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["Producers:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"AWS SDK: simple producer"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Producer Library (KPL): C++, Java, batch, compression, retries"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Agent: monitor log files"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Write throughput: 1 MB/sec or 1000 records/sec per shard"}),"\n",(0,n.jsx)(s.li,{children:"PutRecord API"}),"\n",(0,n.jsx)(s.li,{children:"Use batching with PutRecords API to reduce costs & increase throughput"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-producers",src:i(53117).A+"",width:"1729",height:"787"})}),"\n",(0,n.jsx)(s.h4,{id:"provisionedthroughputexceeded",children:"ProvisionedThroughputExceeded"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-throughput",src:i(49120).A+"",width:"1735",height:"772"})}),"\n",(0,n.jsx)(s.h3,{id:"data-streams-consumers",children:"Data Streams Consumers"}),"\n",(0,n.jsx)(s.p,{children:"Get data records from data streams and process them:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"AWS Lambda"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Data Analytics"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Data Firehose"}),"\n",(0,n.jsx)(s.li,{children:"Custom Consumer (AWS SDK) \u2013 Classic or Enhanced Fan-Out"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Client Library (KCL): library to simplify reading from data stream"}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"custom-consumer",children:"Custom Consumer"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-custom-consumer",src:i(95102).A+"",width:"1807",height:"739"})}),"\n",(0,n.jsx)(s.h4,{id:"consumers-types",children:"Consumers Types"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-consumer-types",src:i(54850).A+"",width:"1764",height:"727"})}),"\n",(0,n.jsx)(s.h4,{id:"consumers-aws-lambda",children:"Consumers: AWS Lambda"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Supports Classic & Enhanced fan-out consumers"}),"\n",(0,n.jsx)(s.li,{children:"Read records in batches"}),"\n",(0,n.jsx)(s.li,{children:"Can configure batch size and batch window"}),"\n",(0,n.jsx)(s.li,{children:"If error occurs, Lambda retries until succeeds or data expired"}),"\n",(0,n.jsx)(s.li,{children:"Can process up to 10 batches per shard simultaneously"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-aws-lambda",src:i(62603).A+"",width:"1009",height:"693"})}),"\n",(0,n.jsx)(s.h3,{id:"kinesis-client-library-kcl",children:"Kinesis Client Library (KCL)"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"A Java library that helps read record from a Kinesis Data Stream with distributed applications sharing the read workload"}),"\n",(0,n.jsxs)(s.li,{children:["Each shard is to be read by only one KCL instance","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"4 shards = max. 4 KCL instances"}),"\n",(0,n.jsx)(s.li,{children:"6 shards = max. 6 KCL instances"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Progress is checkpointed into DynamoDB (needs IAM access)"}),"\n",(0,n.jsx)(s.li,{children:"Track other workers and share the work amongst shards using DynamoDB"}),"\n",(0,n.jsx)(s.li,{children:"KCL can run on EC2, Elastic Beanstalk, and on-premises"}),"\n",(0,n.jsx)(s.li,{children:"Records are read in order at the shard level"}),"\n",(0,n.jsxs)(s.li,{children:["Versions:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"KCL 1.x (supports shared consumer)"}),"\n",(0,n.jsx)(s.li,{children:"KCL 2.x (supports shared & enhanced fan-out consumer)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"kcl-example",children:"KCL Example"}),"\n",(0,n.jsx)(s.h4,{id:"4-shards",children:"4 Shards"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kcl-example1",src:i(27793).A+"",width:"1080",height:"744"})}),"\n",(0,n.jsx)(s.h4,{id:"4-shards-scaling-kcl-app",children:"4 shards, Scaling KCL App"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kcl-example2",src:i(51546).A+"",width:"1138",height:"790"})}),"\n",(0,n.jsx)(s.h4,{id:"6-shards-scaling-kinesis",children:"6 shards, Scaling Kinesis"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kcl-example3",src:i(63760).A+"",width:"1126",height:"781"})}),"\n",(0,n.jsx)(s.h3,{id:"shard-splitting",children:"Shard Splitting"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Used to increase the Stream capacity (1 MB/s data in per shard)"}),"\n",(0,n.jsx)(s.li,{children:"Used to divide a \u201chot shard\u201d"}),"\n",(0,n.jsx)(s.li,{children:"The old shard is closed and will be deleted once the data is expired"}),"\n",(0,n.jsx)(s.li,{children:"No automatic scaling (manually increase/decrease capacity)"}),"\n",(0,n.jsx)(s.li,{children:"Can\u2019t split into more than two shards in a single operation"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"merging-shards",children:"Merging Shards"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Decrease the Stream capacity and save costs"}),"\n",(0,n.jsx)(s.li,{children:"Can be used to group two shards with low traffic (cold shards)"}),"\n",(0,n.jsx)(s.li,{children:"Old shards are closed and will be deleted once the data is expired"}),"\n",(0,n.jsx)(s.li,{children:"Can\u2019t merge more than two shards in a single operation"}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"kinesis-data-firehose",children:"Kinesis Data Firehose"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-firehose",src:i(56449).A+"",width:"1836",height:"973"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fully Managed Service, no administration, automatic scaling, serverless","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"AWS: Redshift / Amazon S3 / OpenSearch"}),"\n",(0,n.jsx)(s.li,{children:"3rd party partner: Splunk / MongoDB / DataDog / NewRelic / \u2026"}),"\n",(0,n.jsx)(s.li,{children:"Custom: send to any HTTP endpoint"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Pay for data going through Firehose"}),"\n",(0,n.jsxs)(s.li,{children:["Near Real Time","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Buffer interval: 0 seconds (no buffering) to 900 seconds"}),"\n",(0,n.jsx)(s.li,{children:"Buffer size: minimum 1MB"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Supports many data formats, conversions, transformations, compression"}),"\n",(0,n.jsx)(s.li,{children:"Supports custom data transformations using AWS Lambda"}),"\n",(0,n.jsx)(s.li,{children:"Can send failed or all data to a backup S3 bucket"}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"kinesis-data-streams-vs-firehose",children:"Kinesis Data Streams vs Firehose"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"data-stream-vs-firehose",src:i(11954).A+"",width:"1711",height:"748"})}),"\n",(0,n.jsx)(s.h4,{id:"data-analytics-for-sql-applications",children:"Data Analytics for SQL applications"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-sql",src:i(6188).A+"",width:"1780",height:"793"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Real-time analytics on Kinesis Data Streams & Firehose using SQL"}),"\n",(0,n.jsx)(s.li,{children:"Add reference data from Amazon S3 to enrich streaming data"}),"\n",(0,n.jsx)(s.li,{children:"Fully managed, no servers to provision"}),"\n",(0,n.jsx)(s.li,{children:"Automatic scaling"}),"\n",(0,n.jsx)(s.li,{children:"Pay for actual consumption rate"}),"\n",(0,n.jsxs)(s.li,{children:["Output:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Kinesis Data Streams: create streams out of the real-time analytics queries"}),"\n",(0,n.jsx)(s.li,{children:"Kinesis Data Firehose: send analytics query results to destinations"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["Use cases:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Time-series analytics"}),"\n",(0,n.jsx)(s.li,{children:"Real-time dashboards"}),"\n",(0,n.jsx)(s.li,{children:"Real-time metrics"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"data-analytics-for-apache-flink",children:"Data Analytics for Apache Flink"}),"\n",(0,n.jsx)(s.p,{children:"Use Flink (Java, Scala or SQL) to process and analyze streaming data:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"kinesis-flink",src:i(10890).A+"",width:"1242",height:"295"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Run any Apache Flink application on a managed cluster on AWS","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"provisioning compute resources, parallel computation, automatic scaling"}),"\n",(0,n.jsx)(s.li,{children:"application backups (implemented as checkpoints and snapshots)"}),"\n",(0,n.jsx)(s.li,{children:"Use any Apache Flink programming features"}),"\n",(0,n.jsx)(s.li,{children:"Flink does not read from Firehose (use Kinesis Analytics for SQL instead)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"kinesis-vs-sqs-ordering",children:"Kinesis vs SQS ordering"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Let\u2019s assume 100 trucks, 5 kinesis shards, 1 SQS FIFO"}),"\n",(0,n.jsxs)(s.li,{children:["Kinesis Data Streams:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"On average you\u2019ll have 20 trucks per shard"}),"\n",(0,n.jsx)(s.li,{children:"Trucks will have their data ordered within each shard"}),"\n",(0,n.jsx)(s.li,{children:"The maximum amount of consumers in parallel we can have is 5"}),"\n",(0,n.jsx)(s.li,{children:"Can receive up to 5 MB/s of data"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["SQS FIFO","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"You only have one SQS FIFO queue"}),"\n",(0,n.jsx)(s.li,{children:"You will have 100 Group ID"}),"\n",(0,n.jsx)(s.li,{children:"You can have up to 100 Consumers (due to the 100 Group ID)"}),"\n",(0,n.jsx)(s.li,{children:"You have up to 300 messages per second (or 3000 if using batching)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"ordering-data-into-kinesis",children:"Ordering data into Kinesis"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Imagine you have 100 trucks (truck_1, truck_2, \u2026 truck_100) on the road sending their GPS positions regularly into AWS."}),"\n",(0,n.jsx)(s.li,{children:"You want to consume the data in order for each truck, so that you can track their movement accurately."}),"\n",(0,n.jsx)(s.li,{children:"How should you send that data into Kinesis?"}),"\n",(0,n.jsxs)(s.li,{children:["Answer: send using a \u201cPartition Key\u201d value of the \u201ctruck_id\u201d","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"The same key will always go to the same shard"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"ordering-kinesis",src:i(91004).A+"",width:"889",height:"496"})}),"\n",(0,n.jsx)(s.h4,{id:"ordering-data-into-sqs",children:"Ordering data into SQS"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"For SQS standard, there is no ordering."}),"\n",(0,n.jsx)(s.li,{children:"For SQS FIFO, if you don\u2019t use a Group ID, messages are consumed in the order they are sent, with only one consumer"}),"\n",(0,n.jsx)(s.li,{children:"You want to scale the number of consumers, but you want messages to be \u201cgrouped\u201d when they are related to each other"}),"\n",(0,n.jsx)(s.li,{children:"Then you use a Group ID (similar to Partition Key in Kinesis)"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"sqs-vs-sns-vs-kinesis",children:"SQS vs SNS vs Kinesis"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"sqs-sns-kinesis",src:i(57078).A+"",width:"1723",height:"711"})})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},94292:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/amazon-sns-75e163de5944f40e5924ba068b4e0ef8.png"},11954:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/data-stream-vs-firehose-cb5b366f722b2568a8d7ca3b24d51c53.png"},27793:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kcl-example1-2ad9e7ef9413850a1ecfb66e32be9e77.png"},51546:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kcl-example2-43afad271ed81c8340066d581c7d9a30.png"},63760:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kcl-example3-dd0e07daba31179b1ee634222c726ee5.png"},51066:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kds-security-58e47f23db8a2c6e6e105a2633d3f566.png"},62603:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-aws-lambda-c6713f434cde6d9d16efe7530635551c.png"},54850:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-consumer-types-fe9a0f1a16998b3003fcb81bc7375b4f.png"},95102:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-custom-consumer-1a614d05b5b398e590b6c0ca4344604e.png"},55906:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-data-streams-9257cdadfa5e08a3e175d8213ec566af.png"},56449:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-firehose-f485a29d86f34255b887b70fb720b171.png"},10890:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-flink-4f3b2b3f30408762eee90d6249c4d9b3.png"},53117:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-producers-0f249957c5372e14a0839686b1e61e2e.png"},6188:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-sql-5ecb82e3972f24bcb3068c292749ace1.png"},49120:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/kinesis-throughput-810b416434684abe73b3ac6682f0e155.png"},91004:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/ordering-kinesis-6d234e88152262b6faadc59974250533.png"},12524:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sns-fan-out-91879647912310c0d20f11ce64672c91.png"},30404:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sns-fan-out2-3ab0f9443710d16d61876e525821ff12.png"},34025:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sns-kdf-e13b70720e31936907a09e74682159ad.png"},87185:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sns-multiple-queues-940adead76f3b8d8e1564dd08820faa3.png"},20120:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-access-policy-3c59db29635057a53299864fe6757a0e.png"},2336:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-auto-scaling-d4e12c2fba72f93e5832a42fca44957b.png"},30107:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-consume-635a38463040b50b90fcd50ad95a4d39.png"},90632:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-decouple-24fc9549172ddec46b8d50d80e70d4e3.png"},18303:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-message-visibility-e0b7d2e3ceb37307dfa2969c57a16b72.png"},57078:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/sqs-sns-kinesis-62f76183786a2e5dc624f87a4e83d84f.png"},28453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>t});var n=i(96540);const l={},a=n.createContext(l);function r(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);