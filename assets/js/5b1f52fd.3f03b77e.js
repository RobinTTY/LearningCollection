"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[728],{31978:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"databases/sql/core-concepts/querying-tables","title":"Querying Tables","description":"SELECT statement","source":"@site/docs/databases/sql/core-concepts/querying-tables.md","sourceDirName":"databases/sql/core-concepts","slug":"/databases/sql/core-concepts/querying-tables","permalink":"/LearningCollection/databases/sql/core-concepts/querying-tables","draft":false,"unlisted":false,"editUrl":"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/databases/sql/core-concepts/querying-tables.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"querying-tables","title":"Querying Tables","sidebar_position":1},"sidebar":"docs","previous":{"title":"SQL","permalink":"/LearningCollection/databases/sql/"},"next":{"title":"Altering Tables","permalink":"/LearningCollection/databases/sql/core-concepts/altering-tables"}}');var r=n(74848),t=n(28453);const o={id:"querying-tables",title:"Querying Tables",sidebar_position:1},c=void 0,d={},i=[{value:"<code>SELECT</code> statement",id:"select-statement",level:2},{value:"Selecting a single field",id:"selecting-a-single-field",level:4},{value:"Selecting multiple fields",id:"selecting-multiple-fields",level:4},{value:"Selecting all fields",id:"selecting-all-fields",level:4},{value:"<code>SELECT DISTINCT</code> statement",id:"select-distinct-statement",level:3},{value:"<code>AS</code> keyword",id:"as-keyword",level:3},{value:"<code>WHERE</code> clause",id:"where-clause",level:2},{value:"Equality operators",id:"equality-operators",level:3},{value:"Checking for NULL values",id:"checking-for-null-values",level:3},{value:"<code>BETWEEN</code> operator",id:"between-operator",level:3},{value:"<code>AND</code> operator",id:"and-operator",level:3},{value:"<code>OR</code> operator",id:"or-operator",level:3},{value:"<code>IN</code> operator",id:"in-operator",level:3},{value:"<code>LIKE</code> operator",id:"like-operator",level:3},{value:"<code>LIMIT</code> clause",id:"limit-clause",level:2},{value:"<code>ORDER BY</code> clause",id:"order-by-clause",level:2},{value:"<code>GROUP BY</code> clause",id:"group-by-clause",level:2},{value:"<code>HAVING</code> clause",id:"having-clause",level:2},{value:"<code>JOIN</code> clause",id:"join-clause",level:2},{value:"<code>ON</code> clause",id:"on-clause",level:3},{value:"Namespacing on tables",id:"namespacing-on-tables",level:3},{value:"<code>INNER JOIN</code>",id:"inner-join",level:3},{value:"<code>LEFT JOIN</code>",id:"left-join",level:3},{value:"<code>RIGHT JOIN</code>",id:"right-join",level:3},{value:"<code>FULL JOIN</code>",id:"full-join",level:3},{value:"Multiple joins",id:"multiple-joins",level:3}];function a(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h2,{id:"select-statement",children:[(0,r.jsx)(s.code,{children:"SELECT"})," statement"]}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"SELECT"}),' statement is the most common operation in SQL - often called a "query". ',(0,r.jsx)(s.code,{children:"SELECT"})," retrieves data from one or more tables. Standard ",(0,r.jsx)(s.code,{children:"SELECT"})," statements do not alter the state of the database."]}),"\n",(0,r.jsx)(s.h4,{id:"selecting-a-single-field",children:"Selecting a single field"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"SELECT"})," statement begins with the keyword ",(0,r.jsx)(s.code,{children:"SELECT"})," followed by the fields you want to retrieve:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT id from users;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["After specifying fields, you need to indicate which table you want to pull the records from using the ",(0,r.jsx)(s.code,{children:"from"})," statement followed by the name of the table."]}),"\n",(0,r.jsx)(s.h4,{id:"selecting-multiple-fields",children:"Selecting multiple fields"}),"\n",(0,r.jsx)(s.p,{children:"To select multiple fields, we separate them with a comma:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT id, name from users;\n"})}),"\n",(0,r.jsx)(s.h4,{id:"selecting-all-fields",children:"Selecting all fields"}),"\n",(0,r.jsxs)(s.p,{children:["To select all fields, we use the ",(0,r.jsx)(s.code,{children:"*"})," wildcard:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * from users;\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"select-distinct-statement",children:[(0,r.jsx)(s.code,{children:"SELECT DISTINCT"})," statement"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"SELECT DISTINCT"})," statement allows us to retrieve unique values in a column. For example, if we want to get a list of all the unique cities in our ",(0,r.jsx)(s.code,{children:"users"})," table:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT DISTINCT city FROM users;\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"as-keyword",children:[(0,r.jsx)(s.code,{children:"AS"})," keyword"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"AS"}),' keyword allows us to "alias" a piece of data in our query. The alias only exists for the duration of the query.']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT employee_id AS id, employee_name AS name\nFROM employees;\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"where-clause",children:[(0,r.jsx)(s.code,{children:"WHERE"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["We often want to look at specific user data within that table without retrieving all the other records in the table. SQL accepts a ",(0,r.jsx)(s.code,{children:"WHERE"})," clause within a query that allows us to filter the data based on a condition:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT email FROM users WHERE name = 'John';\n"})}),"\n",(0,r.jsx)(s.p,{children:"This will return all the emails of users named John."}),"\n",(0,r.jsx)(s.h3,{id:"equality-operators",children:"Equality operators"}),"\n",(0,r.jsx)(s.p,{children:"SQL has a few different equality operators:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"="}),": equal to"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"<>"})," or ",(0,r.jsx)(s.code,{children:"!="}),": not equal to"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:">"}),": greater than"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"<"}),": less than"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:">="}),": greater than or equal to"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"<="}),": less than or equal to"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"checking-for-null-values",children:"Checking for NULL values"}),"\n",(0,r.jsxs)(s.p,{children:["You can use a ",(0,r.jsx)(s.code,{children:"WHERE"})," clause to filter values by whether or not they're ",(0,r.jsx)(s.code,{children:"NULL"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["To get values that are ",(0,r.jsx)(s.code,{children:"NULL"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT name FROM users WHERE first_name IS NULL;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["To get values that are ",(0,r.jsx)(s.strong,{children:"not"})," ",(0,r.jsx)(s.code,{children:"NULL"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT name FROM users WHERE first_name IS NOT NULL;\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"between-operator",children:[(0,r.jsx)(s.code,{children:"BETWEEN"})," operator"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"BETWEEN"})," operator allows us to filter data within a range. For example, to get all users with an ID between 1 and 10:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT name FROM users WHERE id BETWEEN 1 AND 10;\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"and-operator",children:[(0,r.jsx)(s.code,{children:"AND"})," operator"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"WHERE"})," clause can contain one or many ",(0,r.jsx)(s.code,{children:"AND"})," operators. The AND operator is used to filter records based on more than one condition, like if you want to return all customers from Spain that starts with the letter 'G':"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM customers\nWHERE country='Spain'\nAND customerName LIKE 'G%';\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"or-operator",children:[(0,r.jsx)(s.code,{children:"OR"})," operator"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"WHERE"})," clause can contain one or many ",(0,r.jsx)(s.code,{children:"OR"})," operators. The ",(0,r.jsx)(s.code,{children:"OR"})," operator is used to filter records based on more than one condition, like if you want to return all customers from Spain or Mexico:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM customers\nWHERE country='Spain'\nOR country='Mexico';\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"in-operator",children:[(0,r.jsx)(s.code,{children:"IN"})," operator"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"IN"})," operator allows you to specify multiple values in a ",(0,r.jsx)(s.code,{children:"WHERE"})," clause. The ",(0,r.jsx)(s.code,{children:"IN"})," operator is a shorthand for multiple ",(0,r.jsx)(s.code,{children:"OR"})," conditions."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM customers\nWHERE country IN ('Spain', 'Mexico');\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"like-operator",children:[(0,r.jsx)(s.code,{children:"LIKE"})," operator"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"LIKE"})," operator is used in a ",(0,r.jsx)(s.code,{children:"WHERE"})," clause to search for a specified pattern in a column. There are two wildcards often used in conjunction with the LIKE operator:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"%"}),": The percent sign represents zero, one, or multiple characters"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"_"}),": The underscore represents a single character"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"For example, to get all users whose name starts with the letter 'J':"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM users\nWHERE name LIKE 'J%';\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"limit-clause",children:[(0,r.jsx)(s.code,{children:"LIMIT"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"LIMIT"})," keyword can be used at the end of a select statement to reduce the number of records returned."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM products\nWHERE product_name LIKE '%berry%'\nLIMIT 50;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The query above retrieves all the records from the ",(0,r.jsx)(s.code,{children:"products"})," table where the name contains the word berry. The ",(0,r.jsx)(s.code,{children:"LIMIT"})," statement only allows the database to return up to 50 records matching the query."]}),"\n",(0,r.jsxs)(s.h2,{id:"order-by-clause",children:[(0,r.jsx)(s.code,{children:"ORDER BY"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"ORDER BY"})," clause is used to sort the result-set in ascending or descending order. By default ",(0,r.jsx)(s.code,{children:"ORDER BY"})," sorts the records in ascending order."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM Customers\nORDER BY Country DESC;\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"group-by-clause",children:[(0,r.jsx)(s.code,{children:"GROUP BY"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"GROUP BY"}),' statement groups rows that have the same values into summary rows, like "find the number of customers in each country".']}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"GROUP BY"})," statement is often used with ",(0,r.jsx)(s.a,{href:"./functions#aggregate-functions",children:"aggregate functions"})," (",(0,r.jsx)(s.code,{children:"COUNT()"}),", ",(0,r.jsx)(s.code,{children:"MAX()"}),", ",(0,r.jsx)(s.code,{children:"MIN()"}),", ",(0,r.jsx)(s.code,{children:"SUM()"}),", ",(0,r.jsx)(s.code,{children:"AVG()"}),") to group the result-set by one or more columns."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT COUNT(CustomerID), Country\nFROM Customers\nGROUP BY Country;\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"having-clause",children:[(0,r.jsx)(s.code,{children:"HAVING"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"HAVING"})," clause was added to SQL because the ",(0,r.jsx)(s.code,{children:"WHERE"})," keyword could not be used with aggregate functions.\nThe following SQL statement lists the number of customers in each country. Only include countries with more than 5 customers:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT COUNT(CustomerID), Country\nFROM Customers\nGROUP BY Country\nHAVING COUNT(CustomerID) > 5;\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"join-clause",children:[(0,r.jsx)(s.code,{children:"JOIN"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:["Joins allow us to make use of the relationships we have set up between our tables. In short, joins allow us to query multiple tables at the same time. There are different types of joins, the most common are ",(0,r.jsx)(s.code,{children:"INNER JOIN"}),", ",(0,r.jsx)(s.code,{children:"FULL JOIN"}),", ",(0,r.jsx)(s.code,{children:"LEFT JOIN"}),", and ",(0,r.jsx)(s.code,{children:"RIGHT JOIN"}),"."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"joins",src:n(49600).A+"",width:"446",height:"327"})}),"\n",(0,r.jsxs)(s.h3,{id:"on-clause",children:[(0,r.jsx)(s.code,{children:"ON"})," clause"]}),"\n",(0,r.jsxs)(s.p,{children:['In order to perform a join, we need to tell the database which fields should be "matched up". The ',(0,r.jsx)(s.code,{children:"ON"})," clause is used to specify these columns to join."]}),"\n",(0,r.jsx)(s.h3,{id:"namespacing-on-tables",children:"Namespacing on tables"}),"\n",(0,r.jsxs)(s.p,{children:["When working with multiple tables, you can specify which table a field exists on using a ",(0,r.jsx)(s.code,{children:"."}),". For example:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT students.name, classes.name\nFROM students\nINNER JOIN classes\nON classes.class_id = students.class_id;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The above query returns the ",(0,r.jsx)(s.code,{children:"name"})," field from the ",(0,r.jsx)(s.code,{children:"students"})," table and the ",(0,r.jsx)(s.code,{children:"name"})," field from the ",(0,r.jsx)(s.code,{children:"classes"})," table. You could also define an alias for each table like this:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT s.name, c.name\nFROM students AS s\nINNER JOIN classes AS c\nON c.class_id = s.class_id;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"inner-join",children:(0,r.jsx)(s.code,{children:"INNER JOIN"})}),"\n",(0,r.jsxs)(s.p,{children:["The simplest and most common type of join in SQL is the ",(0,r.jsx)(s.code,{children:"INNER JOIN"}),". By default, a ",(0,r.jsx)(s.code,{children:"JOIN"})," command is an ",(0,r.jsx)(s.code,{children:"INNER JOIN"}),". An ",(0,r.jsx)(s.code,{children:"INNER JOIN"})," returns all of the records in ",(0,r.jsx)(s.code,{children:"left_table"})," that have matching records in ",(0,r.jsx)(s.code,{children:"right_table"})," as demonstrated by the following Venn diagram."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT *\nFROM employees\nINNER JOIN departments\nON employees.department_id = departments.id;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The query above returns all the fields from both tables. The ",(0,r.jsx)(s.code,{children:"INNER"})," keyword doesn't have anything to do with the number of columns returned - it only affects the number of rows returned."]}),"\n",(0,r.jsx)(s.h3,{id:"left-join",children:(0,r.jsx)(s.code,{children:"LEFT JOIN"})}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"LEFT JOIN"})," will return every record from ",(0,r.jsx)(s.code,{children:"left_table"})," regardless of whether or not any of those records have a match in ",(0,r.jsx)(s.code,{children:"right_table"}),". A left join will also return any matching records from ",(0,r.jsx)(s.code,{children:"right_table"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT employees.name, departments.name\nFROM employees\nLEFT JOIN departments\nON employees.department_id = departments.id;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"right-join",children:(0,r.jsx)(s.code,{children:"RIGHT JOIN"})}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"RIGHT JOIN"})," is, as you may expect, the opposite of a ",(0,r.jsx)(s.code,{children:"LEFT JOIN"}),". It returns all records from ",(0,r.jsx)(s.code,{children:"right_table"})," regardless of matches, and all matching records between the two tables."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT employees.name, departments.name\nFROM employees\nRIGHT JOIN departments\nON employees.department_id = departments.id;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"full-join",children:(0,r.jsx)(s.code,{children:"FULL JOIN"})}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"FULL JOIN"})," returns all records from both tables, regardless of whether or not they have a match in the other table."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT employees.name, departments.name\nFROM employees\nFULL JOIN departments\nON employees.department_id = departments.id;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"multiple-joins",children:"Multiple joins"}),"\n",(0,r.jsx)(s.p,{children:"To incorporate data from more than two tables, you can utilize multiple joins to execute more complex queries:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT *\nFROM employees\nLEFT JOIN departments\nON employees.department_id = departments.id\nINNER JOIN regions\nON departments.region_id = regions.id\n"})}),"\n",(0,r.jsxs)(s.p,{children:["This will return all the fields from the ",(0,r.jsx)(s.code,{children:"employees"})," table, the ",(0,r.jsx)(s.code,{children:"departments"})," table, and the ",(0,r.jsx)(s.code,{children:"regions"})," table. The ",(0,r.jsx)(s.code,{children:"LEFT JOIN"})," will return all records from the ",(0,r.jsx)(s.code,{children:"employees"})," table, the ",(0,r.jsx)(s.code,{children:"INNER JOIN"})," will return all records from the ",(0,r.jsx)(s.code,{children:"departments"})," table that have a match in the ",(0,r.jsx)(s.code,{children:"regions"})," table."]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},49600:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/joins-bdd81ac3f78bd905c3e8ba2fd96d46b6.png"},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var l=n(96540);const r={},t=l.createContext(r);function o(e){const s=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),l.createElement(t.Provider,{value:s},e.children)}}}]);