"use strict";(self.webpackChunklearning_knowledge_base=self.webpackChunklearning_knowledge_base||[]).push([[1341],{46637:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var s=n(74848),a=n(28453);const r={title:"Relational Databases (RDS/Aurora)",sidebar_position:5},l=void 0,t={id:"cloud/aws/certified-developer-associate/relational-databases",title:"Relational Databases (RDS/Aurora)",description:"Relational Database Service (RDS)",source:"@site/docs/cloud/aws/certified-developer-associate/relational-databases.md",sourceDirName:"cloud/aws/certified-developer-associate",slug:"/cloud/aws/certified-developer-associate/relational-databases",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/relational-databases",draft:!1,unlisted:!1,editUrl:"https://github.com/RobinTTY/LearningCollection/tree/master/website/docs/cloud/aws/certified-developer-associate/relational-databases.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Relational Databases (RDS/Aurora)",sidebar_position:5},sidebar:"docs",previous:{title:"Elastic Load Balancing (ELB)",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/elb"},next:{title:"ElastiCache",permalink:"/LearningCollection/cloud/aws/certified-developer-associate/elasti-cache"}},o={},c=[{value:"Relational Database Service (RDS)",id:"relational-database-service-rds",level:2},{value:"Using RDS versus deploying DB on EC2",id:"using-rds-versus-deploying-db-on-ec2",level:3},{value:"Storage Auto Scaling",id:"storage-auto-scaling",level:3},{value:"Read Replicas for read scalability",id:"read-replicas-for-read-scalability",level:3},{value:"Example Use Case",id:"example-use-case",level:4},{value:"Read Replicas \u2013 Network Cost",id:"read-replicas--network-cost",level:4},{value:"Multi AZ (Disaster Recovery)",id:"multi-az-disaster-recovery",level:3},{value:"From Single-AZ to Multi-AZ",id:"from-single-az-to-multi-az",level:3},{value:"RDS Proxy",id:"rds-proxy",level:3},{value:"Amazon Aurora",id:"amazon-aurora",level:2},{value:"High Availability and Read Scaling",id:"high-availability-and-read-scaling",level:3},{value:"DB Cluster",id:"db-cluster",level:3},{value:"Features",id:"features",level:3},{value:"RDS &amp; Aurora Security",id:"rds--aurora-security",level:2}];function d(e){const i={h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"relational-database-service-rds",children:"Relational Database Service (RDS)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Managed DB service for DB use SQL as a query language"}),"\n",(0,s.jsxs)(i.li,{children:["It allows you to create databases in the cloud that are managed by AWS","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Postgres"}),"\n",(0,s.jsx)(i.li,{children:"MySQL"}),"\n",(0,s.jsx)(i.li,{children:"MariaDB"}),"\n",(0,s.jsx)(i.li,{children:"Oracle"}),"\n",(0,s.jsx)(i.li,{children:"Microsoft SQL Server"}),"\n",(0,s.jsx)(i.li,{children:"IBM DB2"}),"\n",(0,s.jsx)(i.li,{children:"Aurora (AWS Proprietary database)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"using-rds-versus-deploying-db-on-ec2",children:"Using RDS versus deploying DB on EC2"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["RDS is a managed service:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Automated provisioning, OS patching"}),"\n",(0,s.jsx)(i.li,{children:"Continuous backups and restore to specific timestamp (Point in Time Restore)"}),"\n",(0,s.jsx)(i.li,{children:"Monitoring dashboards"}),"\n",(0,s.jsx)(i.li,{children:"Read replicas for improved read performance"}),"\n",(0,s.jsx)(i.li,{children:"Multi AZ setup for DR (Disaster Recovery)"}),"\n",(0,s.jsx)(i.li,{children:"Maintenance windows for upgrades"}),"\n",(0,s.jsx)(i.li,{children:"Scaling capability (vertical and horizontal)"}),"\n",(0,s.jsx)(i.li,{children:"Storage backed by EBS"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"BUT you can\u2019t SSH into your instances"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"storage-auto-scaling",children:"Storage Auto Scaling"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Helps you increase storage on your RDS DB instance dynamically"}),"\n",(0,s.jsxs)(i.li,{children:["When RDS detects you are running out of free database storage, it scales automatically","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Avoid manually scaling your database storage"}),"\n",(0,s.jsx)(i.li,{children:"You have to set Maximum Storage Threshold (maximum limit for DB storage)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Automatically modify storage if:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Free storage is less than 10% of allocated storage"}),"\n",(0,s.jsx)(i.li,{children:"Low-storage lasts at least 5 minutes"}),"\n",(0,s.jsx)(i.li,{children:"6 hours have passed since last modification"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Useful for applications with unpredictable workloads"}),"\n",(0,s.jsx)(i.li,{children:"Supports all RDS database engines"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"read-replicas-for-read-scalability",children:"Read Replicas for read scalability"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Up to 15 Read Replicas"}),"\n",(0,s.jsx)(i.li,{children:"Within AZ, Cross AZ or Cross Region"}),"\n",(0,s.jsx)(i.li,{children:"Replication is ASYNC, so reads are eventually consistent"}),"\n",(0,s.jsx)(i.li,{children:"Replicas can be promoted to their own DB"}),"\n",(0,s.jsx)(i.li,{children:"Applications must update the connection string to leverage read replicas"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"rds-read-replicas",src:n(25121).A+"",width:"730",height:"507"})}),"\n",(0,s.jsx)(i.h4,{id:"example-use-case",children:"Example Use Case"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"You have a production database that is taking on normal load"}),"\n",(0,s.jsx)(i.li,{children:"You want to run a reporting application to run some analytics"}),"\n",(0,s.jsx)(i.li,{children:"You create a Read Replica to run the new workload there"}),"\n",(0,s.jsx)(i.li,{children:"The production application is unaffected"}),"\n",(0,s.jsx)(i.li,{children:"Read replicas are only used for SELECT statements (not INSERT, UPDATE, DELETE)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"read-replica-use-case",src:n(13067).A+"",width:"522",height:"504"})}),"\n",(0,s.jsx)(i.h4,{id:"read-replicas--network-cost",children:"Read Replicas \u2013 Network Cost"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"In AWS there\u2019s a network cost when data goes from one AZ to another"}),"\n",(0,s.jsx)(i.li,{children:"For RDS Read Replicas within the same region, you don\u2019t pay that fee"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"rds-network-cost",src:n(36487).A+"",width:"1048",height:"355"})}),"\n",(0,s.jsx)(i.h3,{id:"multi-az-disaster-recovery",children:"Multi AZ (Disaster Recovery)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"SYNC replication"}),"\n",(0,s.jsxs)(i.li,{children:["One DNS name \u2013 automatic app failover to standby","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Increases availability"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Failover in case of loss of AZ, loss of network, instance or storage failure"}),"\n",(0,s.jsx)(i.li,{children:"No manual intervention in apps"}),"\n",(0,s.jsx)(i.li,{children:"Not used for scaling"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Note: The Read Replicas are setup as Multi AZ for Disaster Recovery (DR)"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"rds-disaster-recovery",src:n(14608).A+"",width:"543",height:"526"})}),"\n",(0,s.jsx)(i.h3,{id:"from-single-az-to-multi-az",children:"From Single-AZ to Multi-AZ"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Zero downtime operation (no need to stop the DB)"}),"\n",(0,s.jsx)(i.li,{children:"Just click on \u201cmodify\u201d for the database"}),"\n",(0,s.jsxs)(i.li,{children:["The following happens internally:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"A snapshot is taken"}),"\n",(0,s.jsx)(i.li,{children:"A new DB is restored from the snapshot in a new AZ"}),"\n",(0,s.jsx)(i.li,{children:"Synchronization is established between the two databases"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"multi-az-rds",src:n(32866).A+"",width:"468",height:"481"})}),"\n",(0,s.jsx)(i.h3,{id:"rds-proxy",children:"RDS Proxy"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Fully managed database proxy for RDS"}),"\n",(0,s.jsx)(i.li,{children:"Allows apps to pool and share DB connections established with the database"}),"\n",(0,s.jsx)(i.li,{children:"Improving database efficiency by reducing the stress on database resources (e.g., CPU, RAM) and minimize open connections (and timeouts)"}),"\n",(0,s.jsx)(i.li,{children:"Serverless, autoscaling, highly available (multi-AZ)"}),"\n",(0,s.jsx)(i.li,{children:"Reduced RDS & Aurora failover time by up 66%"}),"\n",(0,s.jsx)(i.li,{children:"Supports RDS (MySQL, PostgreSQL, MariaDB, MS SQL Server) and Aurora (MySQL, PostgreSQL)"}),"\n",(0,s.jsx)(i.li,{children:"No code changes required for most apps"}),"\n",(0,s.jsx)(i.li,{children:"Enforce IAM Authentication for DB, and securely store credentials in AWS Secrets Manager"}),"\n",(0,s.jsx)(i.li,{children:"RDS Proxy is never publicly accessible (must be accessed from VPC)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"rds-proxy",src:n(90659).A+"",width:"430",height:"648"})}),"\n",(0,s.jsx)(i.h2,{id:"amazon-aurora",children:"Amazon Aurora"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Aurora is a proprietary technology from AWS (not open sourced)"}),"\n",(0,s.jsx)(i.li,{children:"Postgres and MySQL are both supported as Aurora DB (that means your drivers will work as if Aurora was a Postgres or MySQL database)"}),"\n",(0,s.jsx)(i.li,{children:"Aurora is \u201cAWS cloud optimized\u201d and claims 5x performance improvement over MySQL on RDS, over 3x the performance of Postgres on RDS"}),"\n",(0,s.jsx)(i.li,{children:"Aurora storage automatically grows in increments of 10GB, up to 128 TB"}),"\n",(0,s.jsx)(i.li,{children:"Aurora can have up to 15 replicas and the replication process is faster than MySQL (sub 10 ms replica lag)"}),"\n",(0,s.jsx)(i.li,{children:"Failover in Aurora is instantaneous. It\u2019s HA (High Availability) native"}),"\n",(0,s.jsx)(i.li,{children:"Aurora costs more than RDS (20% more) \u2013 but is more efficient"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"high-availability-and-read-scaling",children:"High Availability and Read Scaling"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["6 copies of your data across 3 AZ:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"4 copies out of 6 needed for writes"}),"\n",(0,s.jsx)(i.li,{children:"3 copies out of 6 need for reads"}),"\n",(0,s.jsx)(i.li,{children:"Self healing with peer-to-peer replication"}),"\n",(0,s.jsx)(i.li,{children:"Storage is striped across 100s of volumes"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"One Aurora Instance takes writes (master)"}),"\n",(0,s.jsx)(i.li,{children:"Automated failover for master in less than 30 seconds"}),"\n",(0,s.jsx)(i.li,{children:"Master + up to 15 Aurora Read Replicas serve reads"}),"\n",(0,s.jsx)(i.li,{children:"Support for Cross Region Replication"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"aurora",src:n(15925).A+"",width:"468",height:"361"})}),"\n",(0,s.jsx)(i.h3,{id:"db-cluster",children:"DB Cluster"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"aurora-cluster",src:n(69524).A+"",width:"1048",height:"511"})}),"\n",(0,s.jsx)(i.h3,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Automatic fail-over"}),"\n",(0,s.jsx)(i.li,{children:"Backup and Recovery"}),"\n",(0,s.jsx)(i.li,{children:"Isolation and security"}),"\n",(0,s.jsx)(i.li,{children:"Industry compliance"}),"\n",(0,s.jsx)(i.li,{children:"Push-button scaling"}),"\n",(0,s.jsx)(i.li,{children:"Automated Patching with Zero Downtime"}),"\n",(0,s.jsx)(i.li,{children:"Advanced Monitoring"}),"\n",(0,s.jsx)(i.li,{children:"Routine Maintenance"}),"\n",(0,s.jsx)(i.li,{children:"Backtrack: restore data at any point of time without using backups"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"rds--aurora-security",children:"RDS & Aurora Security"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["At-rest encryption:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Database master & replicas encryption using AWS KMS \u2013 must be defined as launch time"}),"\n",(0,s.jsx)(i.li,{children:"If the master is not encrypted, the read replicas cannot be encrypted"}),"\n",(0,s.jsx)(i.li,{children:"To encrypt an un-encrypted database, go through a DB snapshot & restore as encrypted"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"In-flight encryption: TLS-ready by default, use the AWS TLS root certificates client-side"}),"\n",(0,s.jsx)(i.li,{children:"IAM Authentication: IAM roles to connect to your database (instead of username/pw)"}),"\n",(0,s.jsx)(i.li,{children:"Security Groups: Control Network access to your RDS / Aurora DB"}),"\n",(0,s.jsx)(i.li,{children:"No SSH available except on RDS Custom"}),"\n",(0,s.jsx)(i.li,{children:"Audit Logs can be enabled and sent to CloudWatch Logs for longer retention"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},69524:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/aurora-cluster-a15e00e83b31be8bde7976ccbc02dd18.png"},15925:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/aurora-6ffb82a73f38020b559c83d1dfa7d88a.png"},32866:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/multi-az-rds-2c11e681e82b2df558f7a68d15124cce.png"},14608:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/rds-disaster-recovery-0cd26c0c02306af7b6950ae529a253b3.png"},36487:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/rds-network-cost-1b524d2a84f3655f693b900186506ffd.png"},90659:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/rds-proxy-db2c9f6687c10f901b1cfa5f86a1f13e.png"},25121:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/rds-read-replicas-dac2c9bb4019d69a7a1fd3765042203c.png"},13067:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/read-replica-use-case-eae0ce3d712b19a2d6c8492f2db474bd.png"},28453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>t});var s=n(96540);const a={},r=s.createContext(a);function l(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);